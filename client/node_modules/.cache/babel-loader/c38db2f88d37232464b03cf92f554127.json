{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\12624\\\\Desktop\\\\t1\\\\Juice-Quiz\\\\client\\\\src\\\\platformManage\\\\EditPlatform.js\";\nimport React from 'react';\nimport { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Media } from 'reactstrap';\nimport './EditPlatform.css';\nimport Axios from \"axios\";\nimport { Button, Card } from 'react-bootstrap';\nexport default class EditPlatform extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      trigger: false,\n      name: \"\",\n      tag: \"music\",\n      namechange: false,\n      tagchange: false,\n      oneOnwer: false,\n      requireReputation: 0,\n      repchange: false,\n      EPID: localStorage.getItem('EditPID'),\n      success: false,\n      file: '',\n      validFlag: false\n    };\n  }\n\n  handleChangeName(e) {\n    this.checkValid();\n    this.setState({\n      name: e.target.value\n    });\n    this.setState({\n      namechange: true\n    });\n  }\n\n  handleChangeTag(e) {\n    this.setState({\n      tag: e.target.value\n    });\n    this.setState({\n      tagchange: true\n    });\n  }\n\n  handleChangeOnwer(e) {\n    this.setState({\n      oneOnwer: !this.state.oneOnwer\n    });\n  }\n\n  handleReputation(e) {\n    this.checkValid();\n    this.setState({\n      requireReputation: e.target.value\n    });\n    console.log(this.state.requireReputation);\n    this.setState({\n      repchange: true\n    });\n  }\n\n  updateName() {\n    const url = `https://juice-quiz.herokuapp.com/api/EditPlatform/name/${this.state.name}`; //  const url= `http://localhost:3001/api/EditPlatform/name/${this.state.name}`;\n\n    Axios.put(url, {\n      PID: this.state.EPID\n    }).then(response => {\n      console.log(response);\n    });\n  }\n\n  updateTag() {\n    const url = `https://juice-quiz.herokuapp.com/api/EditPlatform/tag/${this.state.tag}`; //   const url= `http://localhost:3001/api/EditPlatform/tag/${this.state.tag}`;\n\n    Axios.put(url, {\n      PID: this.state.EPID\n    }).then(response => {\n      console.log(response);\n    });\n  }\n\n  updateRep() {\n    const url = `https://juice-quiz.herokuapp.com/api/EditPlatform/replimit/${this.state.replimit}`; //const url= `http://localhost:3001/api/EditPlatform/replimit/${this.state.replimit}`;\n\n    Axios.put(url, {\n      PID: this.state.EPID\n    }).then(response => {\n      console.log(response);\n    });\n  }\n\n  handlefileSelected(event) {\n    const files = event.target.files[0];\n    this.setState({\n      file: files\n    });\n  }\n\n  postImage(image, name) {\n    const formData = new FormData();\n    formData.append(\"image\", image);\n    formData.append(\"name\", name);\n    const result = Axios.post(`http://localhost:3001/images/${this.state.PID}`, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    return result.data;\n  }\n\n  uploadIcon(event) {\n    console.log(\"working\");\n    event.preventDefault();\n    const result = this.postImage(this.state.file, this.state.name);\n  }\n\n  checkValid() {\n    if (this.state.name == '' || this.state.option == '' || this.state.requireReputation <= 0) {\n      return false;\n    } else {\n      this.setState({\n        validFlag: true\n      });\n      return true;\n    }\n  }\n\n  submit(e) {\n    const url = 'https://juice-quiz.herokuapp.com/api/createplatform'; //const url= 'http://localhost:3001/api/createplatform';\n\n    if (this.checkValid()) {\n      Axios.post(url, {\n        Pname: this.state.name,\n        tag: this.state.tag,\n        replimit: this.state.requireReputation\n      }).then(res => {\n        return res.data;\n      }).then(response => {\n        this.setState({\n          PID: response['PID']\n        });\n        this.setState({\n          success: response['success']\n        });\n      });\n\n      if (this.state.success) {\n        this.uploadIcon(e);\n        this.own();\n        this.inital_reputation();\n        alert(\"Platform Created!\");\n      }\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"EPeditBoard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signUpBoard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"cancel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 13\n      }\n    }, \"X\"), \" \"), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"SIGNUP\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 13\n      }\n    }, \"Manage Platform\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"userInput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"EPeditInput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 17\n      }\n    }, \"Platform Name:\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      style: {\n        width: \"480px\",\n        marginLeft: '0px'\n      },\n      value: this.state.name,\n      onChange: this.handleChangeName.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"userInput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"EPeditInput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 25\n      }\n    }, \"  Select tag:\", /*#__PURE__*/React.createElement(\"select\", {\n      value: this.state.tag,\n      onChange: this.handleChangeTag.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"music\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 25\n      }\n    }, \"music\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"sport\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 27\n      }\n    }, \"sport\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"programing\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 27\n      }\n    }, \"programing\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"science\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 27\n      }\n    }, \"science\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"food\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 27\n      }\n    }, \"food\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"movie\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 27\n      }\n    }, \"movie\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"game\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 27\n      }\n    }, \"game\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"culture\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 27\n      }\n    }, \"culture\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"math\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 27\n      }\n    }, \"math\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"userInput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"EPeditInput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 25\n      }\n    }, \" Allow co-owenr application\", /*#__PURE__*/React.createElement(\"select\", {\n      value: this.state.value,\n      onChange: this.handleChangeOnwer.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 21\n      }\n    }, \"Yes\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"false\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 21\n      }\n    }, \"no\")))), !this.state.oneOnwer && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"userInput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"EPeditInput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 33\n      }\n    }, \"  reputation need\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      value: this.state.requireReputation,\n      style: {\n        width: \"180px\",\n        marginLeft: '0px'\n      },\n      onChange: this.handleReputation.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"userInput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.handlefileSelected.bind(this),\n      type: \"file\",\n      accept: \"image/*\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 17\n      }\n    }), \" \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"userInput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 17\n      }\n    }, this.state.validFlag && /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"EPsubmit\",\n      style: {\n        background: 'white',\n        color: \"#F78223\",\n        border: \"none\"\n      },\n      onClick: e => this.submit(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 6\n      }\n    }, \"Save\")))))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/12624/Desktop/t1/Juice-Quiz/client/src/platformManage/EditPlatform.js"],"names":["React","Component","Link","Media","Axios","Button","Card","EditPlatform","constructor","props","state","trigger","name","tag","namechange","tagchange","oneOnwer","requireReputation","repchange","EPID","localStorage","getItem","success","file","validFlag","handleChangeName","e","checkValid","setState","target","value","handleChangeTag","handleChangeOnwer","handleReputation","console","log","updateName","url","put","PID","then","response","updateTag","updateRep","replimit","handlefileSelected","event","files","postImage","image","formData","FormData","append","result","post","headers","data","uploadIcon","preventDefault","option","submit","Pname","res","own","inital_reputation","alert","render","width","marginLeft","bind","background","color","border"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Component } from 'react';  \r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { Media } from 'reactstrap';\r\nimport './EditPlatform.css'; \r\nimport Axios from \"axios\";   \r\n\r\nimport {Button, Card} from 'react-bootstrap';\r\n\r\n    export default class EditPlatform extends Component {\r\n        constructor(props) {\r\n            super(props);\r\n            this.state = { \r\n              trigger:false,   \r\n              name:\"\",\r\n              tag:\"music\",\r\n              namechange:false,\r\n              tagchange:false,\r\n              oneOnwer:false,\r\n              requireReputation:0,\r\n              repchange:false,\r\n              EPID:localStorage.getItem('EditPID'),\r\n              success:false,\r\n              file:'',\r\n              validFlag:false\r\n            };    \r\n          }\r\n        handleChangeName(e) {   \r\n\tthis.checkValid()\r\n            this.setState({name: e.target.value}); \r\n            this.setState({namechange:true});  \r\n        }\r\n     \r\n        handleChangeTag(e) {  \r\n        this.setState({tag: e.target.value});  \r\n        this.setState({tagchange:true}); \r\n        }\r\n\r\n        handleChangeOnwer(e)   { \r\n          this.setState({oneOnwer:!this.state.oneOnwer}); \r\n        }\r\n\r\n        handleReputation(e){\r\n          \r\n\tthis.checkValid()\r\n            this.setState({requireReputation: e.target.value}); \r\n            console.log(this.state.requireReputation)\r\n            this.setState({repchange:true});  \r\n        }\r\n\r\n       updateName(){\r\n      const url = `https://juice-quiz.herokuapp.com/api/EditPlatform/name/${this.state.name}`;\r\n          //  const url= `http://localhost:3001/api/EditPlatform/name/${this.state.name}`;\r\n        Axios.put(url,{PID:this.state.EPID}).then((response) => { \r\n      console.log(response); \r\n      }\r\n      )\r\n    }\r\n    updateTag(){\r\n     const url = `https://juice-quiz.herokuapp.com/api/EditPlatform/tag/${this.state.tag}`;\r\n      //   const url= `http://localhost:3001/api/EditPlatform/tag/${this.state.tag}`;\r\n      \r\n    Axios.put(url,{PID:this.state.EPID}).then((response) => { \r\n    console.log(response); \r\n    }\r\n    )\r\n  }\r\n  updateRep(){\r\n     const url = `https://juice-quiz.herokuapp.com/api/EditPlatform/replimit/${this.state.replimit}`;\r\n      //const url= `http://localhost:3001/api/EditPlatform/replimit/${this.state.replimit}`;\r\n    \r\n  Axios.put(url,{PID:this.state.EPID}).then((response) => { \r\n  console.log(response); \r\n  }\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n       \r\nhandlefileSelected (event){\r\n\r\n  const files = event.target.files[0]\r\n  this.setState({file:files})\r\n}\r\n\r\n\r\npostImage(image, name) {\r\n  const formData = new FormData();\r\n  formData.append(\"image\", image)\r\n  formData.append(\"name\", name)\r\n   \r\n\r\n  const result = Axios.post(`http://localhost:3001/images/${this.state.PID}`, formData, { headers: {'Content-Type': 'multipart/form-data'}})\r\n  return result.data\r\n}\r\nuploadIcon(event){\r\n  console.log(\"working\")\r\n  event.preventDefault()\r\n  const result =  this.postImage(this.state.file, this.state.name)\r\n}\r\n\r\n\r\ncheckValid(){\r\n  if(this.state.name==''||this.state.option==''||this.state.requireReputation<=0){\r\n  return false\r\n  }else{\r\n    this.setState({validFlag:true})\r\n    return true\r\n  }\r\n}\r\nsubmit(e){       \r\n     const url = 'https://juice-quiz.herokuapp.com/api/createplatform';\r\n      //const url= 'http://localhost:3001/api/createplatform';\r\n    if(this.checkValid()){\r\n     Axios.post(url, { \r\n            Pname: this.state.name, \r\n            tag: this.state.tag, \r\n            replimit:this.state.requireReputation, \r\n       }).then((res)=>{return res.data})\r\n       .then((response) => { \r\n         this.setState({PID:response['PID']});\r\n         this.setState({success:response['success']});\r\n       }); \r\n     if (this.state.success){\r\n      this.uploadIcon(e)\r\n      this.own();\r\n      this.inital_reputation();\r\n      alert(\"Platform Created!\") \r\n     }}\r\n      \r\n     }\r\n    \r\nrender(){ \r\n        \r\n   \r\n\treturn (\r\n\t\t<>\r\n\t\t \r\n\t\t<div className='EPeditBoard'>\r\n    <div>\r\n            \r\n            <div className='signUpBoard'>\r\n            <Link to='/'>\r\n            <button className=\"cancel\"   >X</button> </Link>\r\n                 \r\n\r\n            <label className='SIGNUP'>Manage Platform</label> \r\n                <div className=\"userInput\">    \r\n                <label className='EPeditInput'>Platform Name:  \r\n                <input type={\"text\"} style={{width:\"480px\",marginLeft:'0px'}} value={this.state.name} onChange={this.handleChangeName.bind(this)}></input>\r\n          </label> \r\n                  </div>\r\n                   \r\n                \r\n                   \r\n                  <div className=\"userInput\">    \r\n                        <label className='EPeditInput'>  Select tag:\r\n                        <select value={this.state.tag} onChange={this.handleChangeTag.bind(this)}>\r\n                        <option value=\"music\">music</option>\r\n                          <option value=\"sport\">sport</option>\r\n                          <option value=\"programing\">programing</option>\r\n                          <option value=\"science\">science</option>\r\n                          <option value=\"food\">food</option>\r\n                          <option value=\"movie\">movie</option> \r\n                          <option value=\"game\">game</option>\r\n                          <option value=\"culture\">culture</option>  \r\n                          <option value=\"math\">math</option> \r\n                        </select>\r\n                      </label>\r\n                </div>\r\n                <div className=\"userInput\">    \r\n                        \r\n                        <label  className='EPeditInput'> Allow co-owenr application\r\n                \r\n                <select value={this.state.value} onChange={this.handleChangeOnwer.bind(this)}>\r\n                    <option value=\"true\">Yes</option>\r\n                    <option value=\"false\">no</option> \r\n                  </select>\r\n                  </label>\r\n                                </div>\r\n\r\n\r\n{\r\n !this.state.oneOnwer&& <div className=\"userInput\">    \r\n                                <label className='EPeditInput'>  reputation need\r\n          <input type=\"number\" value={this.state.requireReputation} style={{width:\"180px\",marginLeft:'0px'}} onChange={this.handleReputation.bind(this)}></input>\r\n \r\n        </label> \r\n          </div> \r\n}\r\n                \r\n                <div className=\"userInput\">     \r\n                <input onChange={this.handlefileSelected.bind(this)} type=\"file\" accept=\"image/*\"></input> </div>\r\n\r\n                <div className=\"userInput\">     \r\n               \r\n    { this.state.validFlag&&<Link to='/' > \r\n     <Button className='EPsubmit' style={{background:'white',color:\"#F78223\",border:\"none\"}} onClick={(e)=>this.submit(e)}>Save</Button>\r\n               </Link>}\r\n               \r\n               \r\n                </div>\r\n              \r\n        \r\n               \r\n                  </div>\r\n\r\n                 \r\n                  </div>\r\n  \r\n\t \r\n\t\t\t  </div>\r\n\r\n\t\t\t  </>\r\n\t\t\t  \r\n\t);\r\n  \r\n}\r\n\r\n}"]},"metadata":{},"sourceType":"module"}