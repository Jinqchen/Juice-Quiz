{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\dry19\\\\Documents\\\\GitHub\\\\Juice-Quiz\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\dry19\\\\Documents\\\\GitHub\\\\Juice-Quiz\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\dry19\\\\Documents\\\\GitHub\\\\Juice-Quiz\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\dry19\\\\Documents\\\\GitHub\\\\Juice-Quiz\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\dry19\\\\Documents\\\\GitHub\\\\Juice-Quiz\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\dry19\\\\Documents\\\\GitHub\\\\Juice-Quiz\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{Component}from'react';import{Link}from'react-router-dom';import'./mangaePlatform.css';import{Media}from'reactstrap';import Axios from\"axios\";// const places = \n// \t[\n// \t\t{\n// \t\t\tid: 0,\n// \t\t\tname: 'Classic Music',\n// \t\t\timage: './classicMusic.jpg',\n//             reputation:1000,\n// \t\t\tisOwner:false\n// \t\t} ,\n// \t\t{\n// \t\t\tid: 1,\n// \t\t\tname: 'Pop Music',\n// \t\t\timage: './popMusic.jpg',\n//             reputation:1000,\n// \t\t\tisOwner:true\n// \t\t}  ,\n// \t\t{\n// \t\t\tid: 2,\n// \t\t\tname: 'League of Legend',\n// \t\t\timage: './lol.jpg',\n//             reputation:1000,\n// \t\t\tisOwner:false\n// \t\t} ,\n// \t\t{\n// \t\t\tid: 3,\n// \t\t\tname: 'C++',\n// \t\t\timage: './c++.png',\n//             reputation:1000,\n// \t\t\tisOwner:false\n// \t\t} ,\n// \t\t{\n// \t\t\tid: 4,\n// \t\t\tname: 'NBA',\n// \t\t\timage: './nba.png',\n//             reputation:1000,\n// \t\t\tisOwner:false\n// \t\t} ,\n// \t\t{\n// \t\t\tid: 5,\n// \t\t\tname: 'Math',\n// \t\t\timage: './math.jpg',\n//             reputation:1000,\n// \t\t\tisOwner:false\n// \t\t} ,\n// \t\t{\n// \t\t\tid: 6,\n// \t\t\tname: 'Japanese Food',\n// \t\t\timage: './jpFood.jpg',\n//             reputation:1000,\n// \t\t\tisOwner:false\n// \t\t} ,\n// \t\t{\n// \t\t\tid: 7,\n// \t\t\tname: 'Itanlian Food',\n// \t\t\timage: './ITfood.jpg',\n//             reputation:1000,\n// \t\t\tisOwner:false\n// \t\t}  \n// \t];\nvar managePlatform=/*#__PURE__*/function(_Component){_inherits(managePlatform,_Component);var _super=_createSuper(managePlatform);function managePlatform(props){var _this;_classCallCheck(this,managePlatform);_this=_super.call(this,props);_this.store=function(place){console.log(\"clicked\");localStorage.setItem('EditPID',place['PID']);};_this.state={trigger:false,place:\"\",renderList:[],UID:localStorage.getItem(\"UID\")};_this.get();//this.setState({renderList:places});     \nreturn _this;}_createClass(managePlatform,[{key:\"get\",value:function(){var _get=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this2=this;var url,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:this._isMounted=true;url=\"https://juice-quiz.herokuapp.com/api/user/owned/\".concat(this.state.UID);//\t const url= `http://localhost:3001/api/user/owned/${this.state.UID}`;\n_context.next=4;return Axios.get(url).then(function(res){return res.data;}).then(function(result){if(_this2._isMounted){//console.log(result);\n_this2.setState({places:result},function(){console.log(_this2.state.places);});_this2.setState({renderList:_this2.state.places});}});case 4:res=_context.sent;case 5:case\"end\":return _context.stop();}}},_callee,this);}));function get(){return _get.apply(this,arguments);}return get;}()},{key:\"render\",value://在这里保证点击每个图片可以转到对应的platform\nfunction render(){var _this3=this;var menu=this.state.renderList.map(function(place){return/*#__PURE__*/React.createElement(\"div\",{className:\"list\"},/*#__PURE__*/React.createElement(\"div\",{class:\"box\"},/*#__PURE__*/React.createElement(\"div\",{class:\"box-bg\"},/*#__PURE__*/React.createElement(\"img\",{src:\"./demo-image.jpg\"})),/*#__PURE__*/React.createElement(\"div\",{class:\"box-text\"},/*#__PURE__*/React.createElement(\"h4\",null,place.Pname),/*#__PURE__*/React.createElement(Link,{to:'/platformEdit/'+place.Pname,onClick:function onClick(){return _this3.store(place);}},/*#__PURE__*/React.createElement(\"button\",{className:\"boxbtn-manage\"},\" manage\")))));});return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"board-mangage\"},/*#__PURE__*/React.createElement(\"div\",{className:\"boardTitle-mangage\"},\"Platform Management\"),menu));}}]);return managePlatform;}(Component);export{managePlatform as default};","map":{"version":3,"sources":["C:/Users/dry19/Documents/GitHub/Juice-Quiz/client/src/platformManage/mangaePlatform.js"],"names":["React","Component","Link","Media","Axios","managePlatform","props","store","place","console","log","localStorage","setItem","state","trigger","renderList","UID","getItem","get","_isMounted","url","then","res","data","result","setState","places","menu","map","Pname"],"mappings":"+hCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,KAA0B,OAA1B,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAO,sBAAP,CACA,OAASC,KAAT,KAAsB,YAAtB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;GAEyBC,CAAAA,c,gHACjB,wBAAYC,KAAZ,CAAmB,gDACf,uBAAMA,KAAN,EADe,MA6B3BC,KA7B2B,CA6BrB,SAACC,KAAD,CAAS,CACbC,OAAO,CAACC,GAAR,CAAY,SAAZ,EACDC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAgCJ,KAAK,CAAC,KAAD,CAArC,EAEA,CAjC0B,CAEf,MAAKK,KAAL,CAAa,CACXC,OAAO,CAAC,KADG,CAErBN,KAAK,CAAC,EAFe,CAGrBO,UAAU,CAAC,EAHU,CAIrBC,GAAG,CAACL,YAAY,CAACM,OAAb,CAAqB,KAArB,CAJiB,CAAb,CAMA,MAAKC,GAAL,GACT;AATwB,aAUhB,C,0HAIP,+JACD,KAAKC,UAAL,CAAkB,IAAlB,CACOC,GAFN,2DAE+D,KAAKP,KAAL,CAAWG,GAF1E,EAGF;AAHE,sBAIkBZ,CAAAA,KAAK,CAACc,GAAN,CAAUE,GAAV,EACjBC,IADiB,CACZ,SAAAC,GAAG,CAAE,CAAC,MAAOA,CAAAA,GAAG,CAACC,IAAX,CAAgB,CADV,EAEjBF,IAFiB,CAEX,SAAAG,MAAM,CAAG,CACf,GAAG,MAAI,CAACL,UAAR,CAAmB,CACnB;AACA,MAAI,CAACM,QAAL,CAAc,CAACC,MAAM,CAACF,MAAR,CAAd,CAA8B,UAAI,CAACf,OAAO,CAACC,GAAR,CAAY,MAAI,CAACG,KAAL,CAAWa,MAAvB,EAAgC,CAAnE,EACA,MAAI,CAACD,QAAL,CAAc,CAACV,UAAU,CAAC,MAAI,CAACF,KAAL,CAAWa,MAAvB,CAAd,EAA+C,CAC9C,CAPgB,CAJlB,QAIMJ,GAJN,0E,yFAsBJ;AAEA,iBAAQ,iBAEP,GAAMK,CAAAA,IAAI,CAAG,KAAKd,KAAL,CAAWE,UAAX,CAAsBa,GAAtB,CAA0B,SAACpB,KAAD,CAAW,CACjD,mBAED,2BAAK,SAAS,CAAC,MAAf,eAEC,2BAAK,KAAK,CAAC,KAAX,eACE,2BAAK,KAAK,CAAC,QAAX,eACA,2BAAK,GAAG,CAAE,kBAAV,EADA,CADF,cAIE,2BAAK,KAAK,CAAC,UAAX,eACD,8BAAKA,KAAK,CAACqB,KAAX,CADC,cAED,oBAAC,IAAD,EAAM,EAAE,CAAE,iBAAiBrB,KAAK,CAACqB,KAAjC,CAAwC,OAAO,CAAE,yBAAI,CAAA,MAAI,CAACtB,KAAL,CAAWC,KAAX,CAAJ,EAAjD,eACA,8BAAQ,SAAS,CAAC,eAAlB,YADA,CAFC,CAJF,CAFD,CAFC,CA8BA,CA/BY,CAAb,CAiCA,mBACC,qDAEA,2BAAK,SAAS,CAAC,eAAf,eAEA,2BAAK,SAAS,CAAC,oBAAf,wBAFA,CAIEmB,IAJF,CAFA,CADD,CAiBA,C,4BA3F+C1B,S,SAAvBI,c","sourcesContent":["import React from 'react';\r\nimport { Component } from 'react';  \r\nimport { Link } from 'react-router-dom';\r\nimport './mangaePlatform.css' ;    \r\nimport { Media } from 'reactstrap'; \r\nimport Axios from \"axios\";  \r\n// const places = \r\n// \t[\r\n// \t\t{\r\n// \t\t\tid: 0,\r\n// \t\t\tname: 'Classic Music',\r\n// \t\t\timage: './classicMusic.jpg',\r\n//             reputation:1000,\r\n// \t\t\tisOwner:false\r\n// \t\t} ,\r\n// \t\t{\r\n// \t\t\tid: 1,\r\n// \t\t\tname: 'Pop Music',\r\n// \t\t\timage: './popMusic.jpg',\r\n//             reputation:1000,\r\n// \t\t\tisOwner:true\r\n// \t\t}  ,\r\n// \t\t{\r\n// \t\t\tid: 2,\r\n// \t\t\tname: 'League of Legend',\r\n// \t\t\timage: './lol.jpg',\r\n//             reputation:1000,\r\n// \t\t\tisOwner:false\r\n// \t\t} ,\r\n// \t\t{\r\n// \t\t\tid: 3,\r\n// \t\t\tname: 'C++',\r\n// \t\t\timage: './c++.png',\r\n//             reputation:1000,\r\n// \t\t\tisOwner:false\r\n// \t\t} ,\r\n// \t\t{\r\n// \t\t\tid: 4,\r\n// \t\t\tname: 'NBA',\r\n// \t\t\timage: './nba.png',\r\n//             reputation:1000,\r\n// \t\t\tisOwner:false\r\n// \t\t} ,\r\n// \t\t{\r\n// \t\t\tid: 5,\r\n// \t\t\tname: 'Math',\r\n// \t\t\timage: './math.jpg',\r\n//             reputation:1000,\r\n// \t\t\tisOwner:false\r\n// \t\t} ,\r\n// \t\t{\r\n// \t\t\tid: 6,\r\n// \t\t\tname: 'Japanese Food',\r\n// \t\t\timage: './jpFood.jpg',\r\n//             reputation:1000,\r\n// \t\t\tisOwner:false\r\n// \t\t} ,\r\n// \t\t{\r\n// \t\t\tid: 7,\r\n// \t\t\tname: 'Itanlian Food',\r\n// \t\t\timage: './ITfood.jpg',\r\n//             reputation:1000,\r\n// \t\t\tisOwner:false\r\n// \t\t}  \r\n  \r\n\r\n\t\r\n// \t];\r\n\r\n    export default class managePlatform extends Component {\r\n        constructor(props) {\r\n            super(props);\r\n            this.state = { \r\n              trigger:false,  \r\n\t\t\t\tplace:\"\",\r\n\t\t\t\trenderList:[],\r\n\t\t\t\tUID:localStorage.getItem(\"UID\"),\r\n            };   \r\n            this.get();\r\n\t\t\t//this.setState({renderList:places});     \r\n          }\r\n\r\n\r\n           \r\n\t\t  async get(){\r\n\t\t\tthis._isMounted = true;\r\n\t\t  const url = `https://juice-quiz.herokuapp.com/api/user/owned/${this.state.UID}`;\r\n\t\t//\t const url= `http://localhost:3001/api/user/owned/${this.state.UID}`;\r\n\t\t  const res = await Axios.get(url)\r\n\t\t  .then(res=>{return res.data})\r\n\t\t  .then( result =>{\r\n\t\t\t  if(this._isMounted){\r\n\t\t\t  //console.log(result);\r\n\t\t\t  this.setState({places:result},()=>{console.log(this.state.places);});\r\n\t\t\t  this.setState({renderList:this.state.places});}          \r\n\t\t   });\r\n\t\t}\r\n\r\n\r\nstore=(place)=>{\r\n\t console.log(\"clicked\");\r\n\tlocalStorage.setItem('EditPID', place['PID']);\r\n \r\n}\r\n   \r\n  \r\n//在这里保证点击每个图片可以转到对应的platform\r\n    \r\nrender(){ \r\n        \r\n\tconst menu = this.state.renderList.map((place) => {\r\n\t\treturn(\r\n\t\t\t\r\n\t<div className=\"list\">   \r\n\t \r\n\t\t<div class=\"box\">\r\n\t\t\t\t<div class=\"box-bg\">\r\n\t\t\t\t<img src={\"./demo-image.jpg\"} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"box-text\"> \r\n\t\t\t<h4>{place.Pname}</h4> \r\n\t\t\t<Link to={'/platformEdit/'+place.Pname} onClick={()=>this.store(place)}>\r\n\t\t\t<button className=\"boxbtn-manage\" > manage</button>\r\n\t\t\t</Link>\r\n\t\t\t</div>\r\n\t</div>\r\n\t\r\n\t{/* {place.isOwner&&<div className='status'>status: onwer</div>}\r\n\t{!place.isOwner&&<div className='status'>status: co-owner</div>}\r\n\t{!place.isOwner&&\r\n\t<div className='reputation'>reputation: {place.reputation}/10000\r\n\t\t\t\t<progress className='repoBar'  max=\"10000\" value={place.reputation}> 70% </progress>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t} */}\r\n\t\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t   \r\n\t\t);\r\n\t});\r\n   \r\n\treturn (\r\n\t\t<>\r\n\t\t \r\n\t\t<div className='board-mangage'>\r\n\t\t\r\n\t\t<div className=\"boardTitle-mangage\">Platform Management\r\n\t\t </div> \r\n\t\t {menu}\r\n\r\n\r\n\t\t\t \r\n\t\t</div>\r\n\r\n\t\t</>\r\n\t\t\t  \r\n\t);\r\n  \r\n}\r\n\r\n}"]},"metadata":{},"sourceType":"module"}