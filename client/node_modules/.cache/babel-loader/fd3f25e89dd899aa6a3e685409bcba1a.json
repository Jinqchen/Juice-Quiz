{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\dry19\\\\Documents\\\\GitHub\\\\Juice-Quiz\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _toConsumableArray from\"C:\\\\Users\\\\dry19\\\\Documents\\\\GitHub\\\\Juice-Quiz\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"C:\\\\Users\\\\dry19\\\\Documents\\\\GitHub\\\\Juice-Quiz\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\dry19\\\\Documents\\\\GitHub\\\\Juice-Quiz\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\dry19\\\\Documents\\\\GitHub\\\\Juice-Quiz\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\dry19\\\\Documents\\\\GitHub\\\\Juice-Quiz\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\dry19\\\\Documents\\\\GitHub\\\\Juice-Quiz\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{Component}from'react';import'./menu.css';import PlatFormList from'./platFormList';//import { PLACES } from './platFormItems';\nimport Axios from\"axios\";var Menu=/*#__PURE__*/function(_Component){_inherits(Menu,_Component);var _super=_createSuper(Menu);function Menu(props){var _this;_classCallCheck(this,Menu);_this=_super.call(this,props);_this.filter=function(tag){var newList=[];for(var i=0;i<_this.state.places.length;i++){if(_this.state.places[i].tag===tag){newList.push(_this.state.places[i]);}}console.log(newList.length);_this.setState({renderList:newList});};_this.state={searchContent:\"\",places:\"\",renderList:[{}]};_this.process();return _this;}// componentDidMount=()=>{\n//     this.process();\n// };\n_createClass(Menu,[{key:\"handleChangeSearch\",value:function handleChangeSearch(e){this.setState({searchContent:e.target.value});}},{key:\"process\",value:function(){var _process=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this2=this;var url,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url='https://juice-quiz.herokuapp.com/api/Platform';//const url= 'http://localhost:3001/api/Platform';\n_context.next=3;return Axios.get(url).then(function(res){return res.data;}).then(function(result){console.log(result);_this2.setState({places:result});_this2.state.renderList=_toConsumableArray(_this2.state.places);console.log(_this2.state.renderList.length);_this2.setState({places:_this2.state.renderList});});case 3:res=_context.sent;case 4:case\"end\":return _context.stop();}}},_callee);}));function process(){return _process.apply(this,arguments);}return process;}()//在这里进行qurey\n},{key:\"search\",value:function(){var _search=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this3=this;var url,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:alert(this.state.searchContent);url=\"https://juice-quiz.herokuapp.com/api/platform/\".concat(this.state.searchContent);// const url= `http://localhost:3001/api/platform/${this.state.searchContent}`;\n_context2.next=4;return Axios.get(url).then(function(res){return res.data;}).then(function(result){//console.log(result);\n_this3.setState({places:result},function(){console.log(_this3.state.places);});_this3.setState({renderList:_this3.state.places});});case 4:res=_context2.sent;case 5:case\"end\":return _context2.stop();}}},_callee2,this);}));function search(){return _search.apply(this,arguments);}return search;}()},{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"menu\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tagFilter\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this4.process();},type:\"button\",className:\"tag\"},\" General\"),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this4.filter(\"Music\");},type:\"button\",className:\"tag\"},\"Music\"),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this4.filter(\"Sport\");},type:\"button\",className:\"tag\"},\"Sport\"),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this4.filter(\"Programming\");},type:\"button\",className:\"tag\"},\" Programing\"),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this4.filter(\"Science\");},type:\"button\",className:\"tag\"},\"Science\"),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this4.filter(\"Food\");},type:\"button\",className:\"tag\"},\"Food\"),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this4.filter(\"Movie\");},type:\"button\",className:\"tag\"},\"Movie\"),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this4.filter(\"Life\");},type:\"button\",className:\"tag\"},\"Life\")),/*#__PURE__*/React.createElement(\"div\",{className:\"search\"},/*#__PURE__*/React.createElement(\"input\",{className:\"searchContent\",required:true,onChange:this.handleChangeSearch.bind(this)}),/*#__PURE__*/React.createElement(\"button\",{className:\"searchButton\",onClick:function onClick(){return _this4.search();}},\"Search \")),/*#__PURE__*/React.createElement(\"div\",{className:\"item\"},/*#__PURE__*/React.createElement(PlatFormList,{places:this.state.renderList}))));}}]);return Menu;}(Component);export{Menu as default};","map":{"version":3,"sources":["C:/Users/dry19/Documents/GitHub/Juice-Quiz/client/src/page/menu.js"],"names":["React","Component","PlatFormList","Axios","Menu","props","filter","tag","newList","i","state","places","length","push","console","log","setState","renderList","searchContent","process","e","target","value","url","get","then","res","data","result","alert","handleChangeSearch","bind","search"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Component } from 'react';\r\nimport './menu.css'  \r\nimport PlatFormList from './platFormList'; \r\n//import { PLACES } from './platFormItems';\r\nimport Axios from \"axios\";\r\n\r\nexport default class Menu extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n            searchContent:\"\",\r\n\t\t\tplaces: \"\",\r\n            renderList:[{}]\r\n\t\t};\r\n   \r\n       this.process();\r\n        \r\n\t}\r\n    \r\n    \r\n    // componentDidMount=()=>{\r\n    //     this.process();\r\n       \r\n    // };\r\n\r\n\r\n\r\n\r\n    filter=(tag)=>{ \r\n        const newList=[]\r\n        for (let i = 0; i < this.state.places.length; i++) { \r\n            if(this.state.places[i].tag===tag){    \r\n              newList.push(this.state.places[i])\r\n            }\r\n        }\r\n             console.log(newList.length) \r\n             this.setState({renderList:newList})\r\n    };\r\n    \r\n    handleChangeSearch(e) {  \r\n\t\tthis.setState({searchContent: e.target.value});   \r\n\t} \r\n \r\n    async process(){\r\n         const url = 'https://juice-quiz.herokuapp.com/api/Platform';\r\n        //const url= 'http://localhost:3001/api/Platform';\r\n      const res = await Axios.get(url)\r\n      .then(res=>{return res.data})\r\n      .then( result =>{\r\n          console.log(result);\r\n          this.setState({places:result});\r\n          this.state.renderList=[...this.state.places];\r\n          console.log(this.state.renderList.length);\r\n          this.setState({places:this.state.renderList});\r\n       });\r\n    }\r\n\r\n    //在这里进行qurey\r\n    async search(){\r\n    alert(this.state.searchContent)\r\n    const url=`https://juice-quiz.herokuapp.com/api/platform/${this.state.searchContent}`;\r\n   // const url= `http://localhost:3001/api/platform/${this.state.searchContent}`;\r\n      const res = await Axios.get(url)\r\n      .then(res=>{return res.data})\r\n      .then( result =>{\r\n\t\t\r\n\t\t  //console.log(result);\r\n          this.setState({places:result},()=>{console.log(this.state.places);});\r\n          this.setState({renderList:this.state.places});        \r\n       });\r\n\r\n    \r\n    }\r\n \r\n\trender() {    \r\n\t\treturn (\r\n            <div>\r\n\t\t\t<div className=\"menu\">\r\n                \r\n            <div className=\"tagFilter\">\r\n                \r\n                 <button onClick={()=>this.process()}    type=\"button\"  className=\"tag\"> General</button>\r\n                 <button onClick={()=>this.filter(\"Music\")}    type=\"button\"  className=\"tag\">Music</button>\r\n                 <button onClick={()=>this.filter(\"Sport\")}    type=\"button\"  className=\"tag\">Sport</button>\r\n                 <button onClick={()=>this.filter(\"Programming\")}    type=\"button\"  className=\"tag\"> Programing</button>\r\n                 <button onClick={()=>this.filter(\"Science\")}   type=\"button\"  className=\"tag\">Science</button>\r\n                 <button onClick={()=>this.filter(\"Food\")}    type=\"button\"  className=\"tag\">Food</button>\r\n                 <button onClick={()=>this.filter(\"Movie\")}    type=\"button\"  className=\"tag\">Movie</button>\r\n                 <button onClick={()=>this.filter(\"Life\")}    type=\"button\" className=\"tag\">Life</button>\r\n            </div>\r\n            \r\n            \r\n            <div className=\"search\"> \r\n\t\t\t<input className='searchContent' required onChange={this.handleChangeSearch.bind(this)}></input>\r\n\t\t\t<button className='searchButton'onClick={()=>this.search()}>Search </button>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"item\">\r\n            <PlatFormList places={this.state.renderList} /> \r\n            </div>\r\n            {/* <div>\r\n                <button onClick={()=>this.process()} type=\"button\">Refresh</button>\r\n            </div> */}\r\n            </div>\r\n\t\t</div>\r\n\t\t);\r\n\t}\r\n    \r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}