{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\12624\\\\Desktop\\\\t1\\\\Juice-Quiz\\\\client\\\\src\\\\platformManage\\\\CreatePlatform.js\";\nimport React from 'react';\nimport { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Media } from 'reactstrap';\nimport './EditPlatform.css';\nimport Axios from \"axios\";\nimport { Button, Card } from 'react-bootstrap';\nexport default class EditPlatform extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      trigger: false,\n      name: \"\",\n      tag: \"music\",\n      namechange: false,\n      tagchange: false,\n      oneOnwer: false,\n      requireReputation: 0,\n      repchange: false,\n      EPID: localStorage.getItem('EditPID'),\n      success: false,\n      file: '',\n      renderFlag: false\n    };\n  }\n\n  handleChangeName(e) {\n    this.setState({\n      name: e.target.value\n    });\n    this.setState({\n      namechange: true\n    });\n  }\n\n  handleChangeTag(e) {\n    this.setState({\n      tag: e.target.value\n    });\n    this.setState({\n      tagchange: true\n    });\n  }\n\n  handleChangeOnwer(e) {\n    this.setState({\n      oneOnwer: !this.state.oneOnwer\n    });\n  }\n\n  handleReputation(e) {\n    this.setState({\n      requireReputation: e.target.value\n    });\n    console.log(this.state.requireReputation);\n    this.setState({\n      repchange: true\n    });\n  }\n\n  updateName() {\n    const url = `https://juice-quiz.herokuapp.com/api/EditPlatform/name/${this.state.name}`; //  const url= `http://localhost:3001/api/EditPlatform/name/${this.state.name}`;\n\n    Axios.put(url, {\n      PID: this.state.EPID\n    }).then(response => {\n      console.log(response);\n    });\n  }\n\n  updateTag() {\n    const url = `https://juice-quiz.herokuapp.com/api/EditPlatform/tag/${this.state.tag}`; //  const url= `http://localhost:3001/api/EditPlatform/tag/${this.state.tag}`;\n\n    Axios.put(url, {\n      PID: this.state.EPID\n    }).then(response => {\n      console.log(response);\n    });\n  }\n\n  updateRep() {\n    const url = `https://juice-quiz.herokuapp.com/api/EditPlatform/replimit/${this.state.replimit}`; //const url= `http://localhost:3001/api/EditPlatform/replimit/${this.state.requireReputation}`;\n\n    Axios.put(url, {\n      PID: this.state.EPID\n    }).then(response => {\n      console.log(response);\n    });\n  }\n\n  handlefileSelected(event) {\n    const files = event.target.files[0];\n    this.setState({\n      file: files\n    });\n  }\n\n  postImage(image, name) {\n    const formData = new FormData();\n    formData.append(\"image\", image);\n    formData.append(\"name\", name); // const url=`https://juice-quiz.herokuapp.com/images/${this.state.PID}`;\n\n    const url = `http://localhost:3001/images/${this.state.PID}`;\n    const result = Axios.post(url, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    return result.data;\n  }\n\n  uploadIcon(event) {\n    console.log(\"working\");\n    event.preventDefault();\n    const result = this.postImage(this.state.file, this.state.name);\n  }\n\n  submit(e) {\n    this.uploadIcon(e);\n\n    if (this.state.name == '' || this.state.option == '' || this.state.requireReputation <= 0) {\n      alert(\"!\");\n    } else {\n      // const url = 'https://juice-quiz.herokuapp.com/api/createplatform';\n      const url = 'http://localhost:3001/api/createplatform';\n      Axios.post(url, {\n        Pname: this.state.name,\n        tag: this.state.tag,\n        replimit: this.state.requireReputation\n      }).then(res => {\n        return res.data;\n      }).then(response => {\n        this.setState({\n          PID: response['PID']\n        });\n        this.setState({\n          success: response['success']\n        });\n      });\n\n      if (this.state.success) {\n        this.own();\n        this.inital_reputation();\n        alert(\"Platform Created!\");\n      }\n    }\n  }\n\n  render() {\n    // this.setState({oneOnwer:this.state.renderFlag})\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"EPeditBoard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signUpBoard\",\n      style: {\n        height: '500px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"cancel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 13\n      }\n    }, \"X\"), \" \"), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"SIGNUP\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 13\n      }\n    }, \"New Platform\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"CPuserInput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"EPeditInput\",\n      style: {\n        color: 'white',\n        marginLeft: '30px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }\n    }, \"Platform Name:\", /*#__PURE__*/React.createElement(\"input\", {\n      style: {\n        width: \"50%\"\n      },\n      onChange: this.handleChangeName.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"userInput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"EPeditInput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 25\n      }\n    }, \"  Select tag:\", /*#__PURE__*/React.createElement(\"select\", {\n      value: this.state.value,\n      onChange: this.handleChangeTag.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"music\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 27\n      }\n    }, \"music\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"sport\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 27\n      }\n    }, \"sport\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"programing\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 27\n      }\n    }, \"programing\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"science\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 27\n      }\n    }, \"science\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"food\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 27\n      }\n    }, \"food\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"movie\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 27\n      }\n    }, \"movie\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"game\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 27\n      }\n    }, \"game\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"culture\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 27\n      }\n    }, \"culture\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"math\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 27\n      }\n    }, \"math\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"userInput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"EPeditInput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 25\n      }\n    }, \" Allow co-owenr application\", /*#__PURE__*/React.createElement(\"select\", {\n      value: this.state.value,\n      onChange: this.handleChangeOnwer.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 21\n      }\n    }, \"Yes\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"false\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 21\n      }\n    }, \"no\")))), !this.state.oneOnwer && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"CPuserInput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 28\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"EPeditInput\",\n      style: {\n        color: 'white',\n        marginLeft: '30px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 37\n      }\n    }, \"  reputation need\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      value: this.state.requireReputation,\n      style: {\n        width: \"50%\"\n      },\n      onChange: this.handleReputation.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"userInput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.handlefileSelected.bind(this),\n      type: \"file\",\n      accept: \"image/*\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"userInput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"EPsubmit\",\n      style: {\n        background: 'white',\n        color: \"#F78223\",\n        border: \"none\"\n      },\n      onClick: e => this.submit(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 17\n      }\n    }, \"Create\")))))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/12624/Desktop/t1/Juice-Quiz/client/src/platformManage/CreatePlatform.js"],"names":["React","Component","Link","Media","Axios","Button","Card","EditPlatform","constructor","props","state","trigger","name","tag","namechange","tagchange","oneOnwer","requireReputation","repchange","EPID","localStorage","getItem","success","file","renderFlag","handleChangeName","e","setState","target","value","handleChangeTag","handleChangeOnwer","handleReputation","console","log","updateName","url","put","PID","then","response","updateTag","updateRep","replimit","handlefileSelected","event","files","postImage","image","formData","FormData","append","result","post","headers","data","uploadIcon","preventDefault","submit","option","alert","Pname","res","own","inital_reputation","render","height","color","marginLeft","width","bind","background","border"],"mappings":"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","sourcesContent":["\r\n\r\nimport React from 'react';\r\nimport { Component } from 'react';  \r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { Media } from 'reactstrap';\r\nimport './EditPlatform.css'; \r\nimport Axios from \"axios\";   \r\n\r\nimport {Button, Card} from 'react-bootstrap';\r\n\r\n    export default class EditPlatform extends Component {\r\n        constructor(props) {\r\n            super(props);\r\n            this.state = { \r\n              trigger:false,   \r\n              name:\"\",\r\n              tag:\"music\",\r\n              namechange:false,\r\n              tagchange:false,\r\n              oneOnwer:false,\r\n              requireReputation:0,\r\n              repchange:false,\r\n              EPID:localStorage.getItem('EditPID'),\r\n              success:false,\r\n              file:'',\r\n              renderFlag:false\r\n            };    \r\n          }\r\n        handleChangeName(e) {  \r\n            this.setState({name: e.target.value}); \r\n            this.setState({namechange:true});  \r\n        }\r\n     \r\n        handleChangeTag(e) {  \r\n        this.setState({tag: e.target.value});  \r\n        this.setState({tagchange:true}); \r\n        }\r\n\r\n        handleChangeOnwer(e)   {\r\n            \r\n          this.setState({oneOnwer:!this.state.oneOnwer}); \r\n        }\r\n\r\n        handleReputation(e){\r\n            this.setState({requireReputation: e.target.value}); \r\n            console.log(this.state.requireReputation)\r\n            this.setState({repchange:true});  \r\n        }\r\n\r\n       updateName(){\r\n       const url = `https://juice-quiz.herokuapp.com/api/EditPlatform/name/${this.state.name}`;\r\n         //  const url= `http://localhost:3001/api/EditPlatform/name/${this.state.name}`;\r\n        Axios.put(url,{PID:this.state.EPID}).then((response) => { \r\n      console.log(response); \r\n      }\r\n      )\r\n    }\r\n    updateTag(){\r\n     const url = `https://juice-quiz.herokuapp.com/api/EditPlatform/tag/${this.state.tag}`;\r\n       //  const url= `http://localhost:3001/api/EditPlatform/tag/${this.state.tag}`;\r\n      \r\n    Axios.put(url,{PID:this.state.EPID}).then((response) => { \r\n    console.log(response); \r\n    }\r\n    )\r\n  }\r\n  updateRep(){\r\n      const url = `https://juice-quiz.herokuapp.com/api/EditPlatform/replimit/${this.state.replimit}`;\r\n     //const url= `http://localhost:3001/api/EditPlatform/replimit/${this.state.requireReputation}`;\r\n    \r\n  Axios.put(url,{PID:this.state.EPID}).then((response) => { \r\n  console.log(response); \r\n  }\r\n  )\r\n}\r\n\r\nhandlefileSelected (event){\r\n  const files = event.target.files[0]\r\n  this.setState({file:files})\r\n}\r\n\r\n\r\npostImage(image, name) {\r\n  const formData = new FormData();\r\n  formData.append(\"image\", image)\r\n  formData.append(\"name\", name);\r\n  // const url=`https://juice-quiz.herokuapp.com/images/${this.state.PID}`;\r\n const url=`http://localhost:3001/images/${this.state.PID}`;\r\n  const result = Axios.post(url, formData, { headers: {'Content-Type': 'multipart/form-data'}})\r\n  return result.data\r\n}\r\nuploadIcon(event){\r\n  console.log(\"working\")\r\n  event.preventDefault()\r\n  const result =  this.postImage(this.state.file, this.state.name)\r\n}\r\n\r\nsubmit(e){      \r\n   this.uploadIcon(e)\r\n  if(this.state.name==''||this.state.option==''||this.state.requireReputation<=0){\r\n    alert(\"!\")\r\n  }else{\r\n   // const url = 'https://juice-quiz.herokuapp.com/api/createplatform';\r\n const url= 'http://localhost:3001/api/createplatform';\r\n Axios.post(url, { \r\n        Pname: this.state.name, \r\n        tag: this.state.tag, \r\n        replimit:this.state.requireReputation,\r\n        \r\n   }).then((res)=>{return res.data})\r\n   .then((response) => { \r\n     this.setState({PID:response['PID']});\r\n     this.setState({success:response['success']});\r\n   }); \r\n if (this.state.success){\r\n \r\n  this.own();\r\n  this.inital_reputation();\r\n  alert(\"Platform Created!\") \r\n }\r\n  \r\n  }\r\n \r\n     }\r\n    \r\nrender(){ \r\n       // this.setState({oneOnwer:this.state.renderFlag})\r\n\t\r\n   \r\n\treturn (\r\n\t\t<>\r\n\t\t \r\n\t\t<div className='EPeditBoard'>\r\n    <div>\r\n            \r\n            <div className='signUpBoard' style={{height:'500px'}}>\r\n            <Link to='/'>\r\n            <button className=\"cancel\"   >X</button> </Link>\r\n                 \r\n\r\n            <label className='SIGNUP'>New Platform</label> \r\n                <div className=\"CPuserInput\">    \r\n                <div className='EPeditInput' style={{ color:'white',marginLeft:'30px'}}>Platform Name:  \r\n                <input style={{width:\"50%\"}} onChange={this.handleChangeName.bind(this)}></input>\r\n          </div> \r\n                  </div>\r\n                   \r\n                \r\n                   \r\n                  <div className=\"userInput\">    \r\n                        <label className='EPeditInput'>  Select tag:\r\n                        <select value={this.state.value} onChange={this.handleChangeTag.bind(this)}>\r\n                          <option value=\"music\">music</option>\r\n                          <option value=\"sport\">sport</option>\r\n                          <option value=\"programing\">programing</option>\r\n                          <option value=\"science\">science</option>\r\n                          <option value=\"food\">food</option>\r\n                          <option value=\"movie\">movie</option> \r\n                          <option value=\"game\">game</option>\r\n                          <option value=\"culture\">culture</option>  \r\n                          <option value=\"math\">math</option> \r\n                        </select>\r\n                      </label>\r\n                </div>\r\n                <div className=\"userInput\">    \r\n                        \r\n                        <label  className='EPeditInput'> Allow co-owenr application\r\n                \r\n                <select value={this.state.value} onChange={this.handleChangeOnwer.bind(this)}>\r\n                    <option value=\"true\">Yes</option>\r\n                    <option value=\"false\">no</option> \r\n                  </select>\r\n                  </label>\r\n                                </div>\r\n\r\n\r\n                                    {\r\n    !this.state.oneOnwer&& <div className=\"CPuserInput\">    \r\n                                    <div className='EPeditInput' style={{ color:'white',marginLeft:'30px'}}>  reputation need\r\n              <input type=\"number\" value={this.state.requireReputation}  style={{width:\"50%\"}} onChange={this.handleReputation.bind(this)}></input>\r\n    \r\n            </div>\r\n\r\n\r\n              </div>\r\n\r\n}\r\n\r\n                <div className=\"userInput\">     \r\n                <input onChange={this.handlefileSelected.bind(this)} type=\"file\" accept=\"image/*\"></input>\r\n \r\n                </div>\r\n\r\n                <div className=\"userInput\">     \r\n\r\n               \r\n                <Link to='/' > \r\n        \r\n                <Button className='EPsubmit' style={{background:'white',color:\"#F78223\",border:\"none\"}} onClick={(e)=>this.submit(e)}>Create</Button>\r\n                        </Link>\r\n               \r\n                </div>\r\n              \r\n                  </div>\r\n\r\n                 \r\n                  </div>\r\n  \r\n\t\r\n\t\t\t  </div>\r\n\r\n\t\t\t  </>\r\n\t\t\t  \r\n\t);\r\n  \r\n}\r\n\r\n}"]},"metadata":{},"sourceType":"module"}