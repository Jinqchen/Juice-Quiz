{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\12624\\\\Desktop\\\\t1\\\\Juice-Quiz\\\\client\\\\src\\\\singlePlatform\\\\singlePlatForm.js\";\nimport React from 'react';\nimport { Component } from 'react';\nimport './singlePlatForm.css';\nimport { Media } from 'reactstrap';\nimport Axios from \"axios\";\nimport { Link } from 'react-router-dom';\nexport default class singlePlatForm extends Component {\n  constructor(props) {\n    super(props);\n    this._isMounted = false;\n\n    this.componentDidMount = () => {\n      this.get();\n      this.get_ranklist();\n      this.setState({\n        rander: true\n      });\n      this.is_sub();\n      this.is_coowner();\n      this.is_allowCown();\n      this.is_owner();\n      this.get_replimit();\n      this.get_Urep();\n    };\n\n    this.store = place => {\n      localStorage.setItem('QID', place.QID);\n    };\n\n    this.state = {\n      //决定是否显示subscribe按钮和订阅按钮\n      subscribed: false,\n      co_owner: false,\n      owner: false,\n      authority: false,\n      logged: localStorage.getItem(\"Logged\"),\n      places: '',\n      renderList: [{}],\n      hotac: true,\n      rateac: true,\n      Pname: localStorage.getItem('Pname'),\n      Pcover: localStorage.getItem('Pcover'),\n      PID: localStorage.getItem('PID'),\n      rander: false,\n      searchContent: \"\",\n      rankList: [{}],\n      rank: '',\n      replimit: 0,\n      Urep: 0,\n      allow_coowner: true\n    };\n  }\n\n  // Sort function \n  sortByHot() {\n    var places = this.state.places;\n\n    if (this.state.hotac) {\n      places.sort(function (a, b) {\n        return -a.hot + b.hot;\n      });\n      this.setState({\n        hotac: false\n      });\n    } else {\n      places.sort(function (a, b) {\n        return a.hot - b.hot;\n      });\n      this.setState({\n        hotac: true\n      });\n    }\n\n    this.setState({\n      rateac: true\n    });\n    console.log(places);\n    this.setState({\n      renderList: places\n    });\n  }\n\n  sortByRate() {\n    var places = this.state.places;\n\n    if (this.state.rateac) {\n      places.sort(function (a, b) {\n        return -a.ave_rate + b.ave_rate;\n      });\n      this.setState({\n        rateac: false\n      });\n    } else {\n      places.sort(function (a, b) {\n        return a.ave_rate - b.ave_rate;\n      });\n      this.setState({\n        rateac: true\n      });\n    }\n\n    this.setState({\n      hotac: true\n    });\n    console.log(places);\n    this.setState({\n      renderList: places\n    });\n  } //申请和订阅在这里\n\n\n  subscribe() {\n    //    const url = 'https://juice-quiz.herokuapp.com/api/platform/dosubscribe';\n    const url = 'http://localhost:3001/api/platform/dosubscribe';\n    Axios.post(url, {\n      PID: this.state.PID,\n      UID: localStorage.getItem(\"UID\")\n    }).then(response => {\n      console.log(response);\n      this.setState({\n        subscribed: true\n      });\n    });\n    this.inital_reputation();\n  }\n\n  unsubscribe() {\n    if (this.state.owner) {\n      alert(\"You can't unsubscribe your own platform!\");\n    } else if (this.state.co_owner) {\n      console.log(\"co\");\n      this.op_delrep();\n      this.op_uncoown();\n      this.op_unsub();\n    } else {\n      this.op_delrep();\n      this.op_unsub();\n    }\n\n    this.get_ranklist();\n  }\n\n  op_unsub() {\n    //    const url = `https://juice-quiz.herokuapp.com/api/platform/delSub/${this.state.PID}`;\n    const url = `http://localhost:3001/api/platform/delSub/${this.state.PID}`;\n    Axios.delete(url, {\n      data: {\n        UID: localStorage.getItem(\"UID\")\n      }\n    }).then(response => {\n      console.log(response);\n    });\n    this.setState({\n      subscribed: false\n    });\n  }\n\n  op_uncoown() {\n    // const url = `https://juice-quiz.herokuapp.com/api/platform/delCoown/${this.state.PID}`;\n    const url = `http://localhost:3001/api/platform/delCoown/${this.state.PID}`;\n    Axios.delete(url, {\n      data: {\n        UID: localStorage.getItem(\"UID\")\n      }\n    }).then(response => {\n      console.log(response);\n    });\n    this.setState({\n      co_owner: false\n    });\n  }\n\n  op_delrep() {\n    // const url = `https://juice-quiz.herokuapp.com/api/platform/delRep/${this.state.PID}`;\n    const url = `http://localhost:3001/api/platform/delRep/${this.state.PID}`;\n    Axios.delete(url, {\n      data: {\n        UID: localStorage.getItem(\"UID\")\n      }\n    }).then(response => {\n      console.log(response);\n    });\n  }\n\n  inital_reputation() {\n    // const url = 'https://juice-quiz.herokuapp.com/api/platform/initalR';\n    const url = 'http://localhost:3001/api/platform/initalR';\n    Axios.post(url, {\n      PID: this.state.PID,\n      UID: localStorage.getItem(\"UID\")\n    }).then(response => {\n      console.log(response);\n      this.setState({\n        subscribed: true\n      });\n    });\n  } // Apply function \n\n\n  do_apply() {\n    //  const url = `https://juice-quiz.herokuapp.com/api/platform/doapply`;\n    const url = `http://localhost:3001/api/platform/doapply`;\n    Axios.post(url, {\n      PID: this.state.PID,\n      UID: localStorage.getItem(\"UID\")\n    }).then(response => {\n      console.log(response);\n      this.setState({\n        co_owner: true\n      });\n    });\n  }\n\n  apply() {\n    if (!this.state.subscribed) {\n      alert(\"You need to subscribe the platform first!\");\n    } else {\n      this.get_Urep();\n\n      if (this.state.Urep < this.state.replimit) {\n        alert(\"You didn't reach the co-owner requirment\");\n      } else {\n        this.do_apply();\n      }\n    }\n  }\n\n  get_replimit() {\n    //\t  const url = `https://juice-quiz.herokuapp.com/api/platform/${this.state.PID}/replimit`;\n    const url = `http://localhost:3001/api/platform/${this.state.PID}/replimit`;\n    Axios.get(url).then(res => {\n      return res.data;\n    }).then(response => {\n      this.setState({\n        replimit: response[0]['replimit']\n      });\n      console.log(this.state.replimit);\n    });\n  }\n\n  get_Urep() {\n    //  const url = `https://juice-quiz.herokuapp.com/api/platform/userRep/${localStorage.getItem(\"UID\")}`;\n    const url = `http://localhost:3001/api/platform/userRep/${localStorage.getItem(\"UID\")}`;\n    Axios.get(url, {\n      params: {\n        PID: this.state.PID\n      }\n    }).then(res => {\n      return res.data;\n    }).then(response => {\n      if (this.state.subscribed) {\n        this.setState({\n          Urep: response[0]['Rpoint']\n        });\n      }\n    });\n  }\n\n  async get() {\n    this._isMounted = true; // const url = `https://juice-quiz.herokuapp.com/api/platform/quizlist/${this.state.PID}`;\n\n    const url = `http://localhost:3001/api/platform/quizlist/${this.state.PID}`;\n    const res = await Axios.get(url).then(res => {\n      return res.data;\n    }).then(result => {\n      if (this._isMounted) {\n        //console.log(result);\n        this.setState({\n          places: result\n        }, () => {\n          console.log(this.state.places);\n        });\n        this.setState({\n          renderList: this.state.places\n        });\n      }\n    });\n  }\n\n  async get_ranklist() {\n    // const url = `https://juice-quiz.herokuapp.com/api/platform/ranklist/${this.state.PID}`;\n    const url = `http://localhost:3001/api/platform/ranklist/${this.state.PID}`;\n    const res = await Axios.get(url).then(res => {\n      return res.data;\n    }).then(result => {\n      if (this._isMounted) {\n        console.log(result);\n        this.setState({\n          rank: result\n        }, () => {\n          console.log(this.state.rank);\n        });\n        this.setState({\n          rankList: this.state.rank\n        });\n      }\n    });\n  }\n\n  is_sub() {\n    // const url = 'https://juice-quiz.herokuapp.com/api/platform/subscribe';\n    const url = `http://localhost:3001/api/platform/subscribe`;\n    Axios.post(url, {\n      PID: this.state.PID,\n      UID: localStorage.getItem(\"UID\")\n    }).then(response => {\n      //console.log(response.data);\n      this.setState({\n        subscribed: response.data[\"subscribe\"]\n      });\n    });\n  }\n\n  is_coowner() {\n    const url = 'https://juice-quiz.herokuapp.com/api/platform/coowner'; //const url= `http://localhost:3001/api/platform/coowner`;\n\n    Axios.post(url, {\n      PID: this.state.PID,\n      UID: localStorage.getItem(\"UID\")\n    }).then(response => {\n      //console.log(response.data);\n      this.setState({\n        co_owner: response.data[\"coowner\"]\n      });\n    });\n  }\n\n  is_owner() {\n    const url = 'https://juice-quiz.herokuapp.com/api/platform/owner'; //\t const url= `http://localhost:3001/api/platform/owner`;\n\n    Axios.post(url, {\n      PID: this.state.PID,\n      UID: localStorage.getItem(\"UID\")\n    }).then(response => {\n      //console.log(response.data);\n      this.setState({\n        owner: response.data[\"owner\"]\n      });\n    });\n  }\n\n  is_allowCown() {\n    console.log(\"start\");\n    const url = 'https://juice-quiz.herokuapp.com/api/platform/allow_co'; //const url= `http://localhost:3001/api/platform/allow_co`;\n\n    Axios.post(url, {\n      PID: this.state.PID\n    }).then(response => {\n      console.log(response.data);\n      this.setState({\n        allow_coowner: response.data[\"allow_co\"]\n      });\n    });\n  } //Search \n\n\n  handleChangeSearch(e) {\n    this.setState({\n      searchContent: e.target.value\n    });\n  }\n\n  async search() {\n    if (this.state.searchContent === \"\") {\n      this.get();\n    } else {\n      const url = `https://juice-quiz.herokuapp.com/api/quiz/${this.state.searchContent}`; //\tconst url= `http://localhost:3001/api/quiz/${this.state.searchContent}`;\n\n      const res = await Axios.get(url, {\n        params: {\n          PID: this.state.PID\n        }\n      }).then(res => {\n        return res.data;\n      }).then(result => {\n        console.log(result);\n        this.setState({\n          places: result\n        }, () => {\n          console.log(this.state.places);\n        });\n        this.setState({\n          renderList: this.state.places\n        });\n      });\n    }\n  }\n\n  render() {\n    const menu = this.state.rankList.map(place => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"rankList\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 8\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: '../' + place.pic,\n        className: \"rankIcon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 6\n        }\n      }), /*#__PURE__*/React.createElement(\"h4\", {\n        class: \"rankName\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 7\n        }\n      }, place.Uname), /*#__PURE__*/React.createElement(\"h4\", {\n        class: \"rankRepo\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 7\n        }\n      }, \"reputation:\", place.Rpoint), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"reputationValue\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 7\n        }\n      })));\n    });\n    console.log(\"owener-status\");\n    console.log(this.state.owner);\n    console.log(\"co_owener-status\");\n    console.log(this.state.co_owner);\n    console.log(\"result\");\n    console.log(!this.state.owner || !this.state.co_owner);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"rankBoard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"rankBoardTitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 5\n      }\n    }, \" reputation rank  \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"rankMenu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 5\n      }\n    }, menu)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"detailBoard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"detailTitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 5\n      }\n    }, \" Platform Information \"), /*#__PURE__*/React.createElement(\"h4\", {\n      class: \"detailRepo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 5\n      }\n    }, \"Allowed to be co-owner of this platform:\", this.state.allow_coowner && /*#__PURE__*/React.createElement(\"h4\", {\n      class: \"detialText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 95\n      }\n    }, \"Yes\") || /*#__PURE__*/React.createElement(\"h4\", {\n      class: \"detialText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 128\n      }\n    }, \"No\")), /*#__PURE__*/React.createElement(\"h4\", {\n      class: \"detailRepo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 5\n      }\n    }, \"Reputation need to be cowoner:\", /*#__PURE__*/React.createElement(\"h4\", {\n      class: \"detialText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 58\n      }\n    }, this.state.replimit)), /*#__PURE__*/React.createElement(\"h4\", {\n      class: \"detailRepo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 5\n      }\n    }, \"Current reputation:\", /*#__PURE__*/React.createElement(\"h4\", {\n      class: \"detialText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 47\n      }\n    }, this.state.Urep))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"singlePlatformsearch\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"singlePlatformsearchContent\",\n      required: true,\n      onChange: this.handleChangeSearch.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 4\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"singlePlatformsearchButton\",\n      onClick: () => this.search(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 4\n      }\n    }, \"Search \")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"platFormButton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: 'https://juicequiztest.s3.amazonaws.com' + this.state.Pcover,\n      className: \"icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"singlePlatFormName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 13\n      }\n    }, this.state.Pname), !this.state.subscribed && /*#__PURE__*/React.createElement(\"button\", {\n      className: \"platformaccount\",\n      onClick: () => this.subscribe(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 31\n      }\n    }, \"subscribe\") || /*#__PURE__*/React.createElement(\"button\", {\n      className: \"platformaccount\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 119\n      }\n    }, \"subscribed \\u221A\"), !this.state.owner && !this.state.co_owner && /*#__PURE__*/React.createElement(\"button\", {\n      className: \"platformaccount\",\n      onClick: () => this.apply(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 52\n      }\n    }, \"Apply to be co-owner\"), (this.state.owner || this.state.co_owner) && /*#__PURE__*/React.createElement(Link, {\n      className: \"newQuizLink\",\n      to: '/quizInit',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 46\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 4\n      }\n    }, \"Release New Quiz\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sort\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"sortButton\",\n      onClick: () => this.sortByRate(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 4\n      }\n    }, \"\\u2B50 Rate \"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"sortButton\",\n      onClick: () => this.sortByHot(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 13\n      }\n    }, \"\\uD83D\\uDD25 Hot \")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"platFormlist\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 4\n      }\n    }, this.state.rander && this.state.renderList.map(place => {\n      //console.log(this.state.places)\t\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"SinglePlatformitem\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 4\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        className: \"SinglePlatformtitle\",\n        style: {\n          textDecoration: \"none\"\n        },\n        to: \"/platform/\" + this.state.PID + \"/answer/\" + place.QID,\n        onClick: () => this.store(place),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 5\n        }\n      }, \"  \", place.Qname, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"rate\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 5\n        }\n      }, \"\\u2B50: \", place.ave_rate, \" \\uD83D\\uDD25\\uFF1A\", place.hot)), \" \"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"discription\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 6\n        }\n      }, place.description), /*#__PURE__*/React.createElement(Media, {\n        object: true,\n        src: '../' + place.pic,\n        alt: place.Releaser,\n        className: \"userIcon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 6\n        }\n      })));\n    }))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/12624/Desktop/t1/Juice-Quiz/client/src/singlePlatform/singlePlatForm.js"],"names":["React","Component","Media","Axios","Link","singlePlatForm","constructor","props","_isMounted","componentDidMount","get","get_ranklist","setState","rander","is_sub","is_coowner","is_allowCown","is_owner","get_replimit","get_Urep","store","place","localStorage","setItem","QID","state","subscribed","co_owner","owner","authority","logged","getItem","places","renderList","hotac","rateac","Pname","Pcover","PID","searchContent","rankList","rank","replimit","Urep","allow_coowner","sortByHot","sort","a","b","hot","console","log","sortByRate","ave_rate","subscribe","url","post","UID","then","response","inital_reputation","unsubscribe","alert","op_delrep","op_uncoown","op_unsub","delete","data","do_apply","apply","res","params","result","handleChangeSearch","e","target","value","search","render","menu","map","pic","Uname","Rpoint","bind","textDecoration","Qname","description","Releaser"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Component } from 'react';  \r\nimport './singlePlatForm.css'\r\nimport { Media } from 'reactstrap';\r\nimport Axios from \"axios\";\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default class singlePlatForm extends Component {\r\n\t_isMounted = false;\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\t//决定是否显示subscribe按钮和订阅按钮\r\n\t\t\tsubscribed:false,\r\n\t\t\tco_owner:false,\r\n\t\t\towner:false,\r\n\t\t\tauthority:false,\r\n\t\t\tlogged:localStorage.getItem(\"Logged\"),\r\n\t\t\tplaces: '',\r\n            renderList:[{}],\r\n\t\t\thotac:true,\r\n\t\t\trateac:true,\r\n\t\t\tPname :localStorage.getItem('Pname'),\r\n\t\t\tPcover:localStorage.getItem('Pcover'),\r\n\t\t\tPID: localStorage.getItem('PID'),\r\n\t\t\trander:false,\r\n\t\t\tsearchContent:\"\",\r\n\t\t\trankList:[{}],\r\n\t\t\trank:'',\r\n\t\t\treplimit:0,\r\n\t\t\tUrep:0,\r\n\t\t\tallow_coowner:true\r\n\t\t};\r\n        \r\n\t}\r\n    \r\n\r\n\t\r\n componentDidMount=()=>{\r\n\tthis.get() ;\r\n\tthis.get_ranklist();\r\n\tthis.setState({rander:true});\r\n\tthis.is_sub();\r\n\tthis.is_coowner();\r\n\tthis.is_allowCown();\r\n\tthis.is_owner();\r\n\tthis.get_replimit();\r\n\tthis.get_Urep();\r\n\r\n }\r\n\r\n\r\n\r\n// Sort function \r\n\tsortByHot(){ \r\n\t\tvar places = this.state.places\r\n\t\tif(this.state.hotac){\r\n          places.sort(function(a, b){return -a.hot + b.hot});\r\n\t\t   this.setState({hotac:false});\r\n\t\t}\r\n\t\telse{\r\n\t\t places.sort(function(a, b){return a.hot - b.hot}); \r\n\t\t this.setState({hotac:true});\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({rateac:true})\r\n\t\tconsole.log(places)\r\n\t\t\r\n\t\tthis.setState({renderList: places })\r\n\t}\r\n\t\r\n\tsortByRate(){\r\n\t\tvar places = this.state.places\r\n\t\tif(this.state.rateac){\r\n\t\t\tplaces.sort(function(a, b){return -a.ave_rate + b.ave_rate}); \r\n\t\t\tthis.setState({rateac:false})\r\n\t\t  }\r\n\t\t  else{\r\n\t\t   places.sort(function(a, b){return a.ave_rate - b.ave_rate}); \r\n\t\t   this.setState({rateac:true})\r\n\t\t  }\r\n\t\t  this.setState({hotac:true})\r\n\t\tconsole.log(places)\r\n\t\tthis.setState({renderList: places })\r\n\r\n\t}\r\n \r\n\r\n\r\n\t//申请和订阅在这里\r\n\tsubscribe(){\r\n//    const url = 'https://juice-quiz.herokuapp.com/api/platform/dosubscribe';\r\n\t   const url= 'http://localhost:3001/api/platform/dosubscribe';\r\n\t     \r\n\t\t  Axios.post(url, { \r\n\t\t\tPID : this.state.PID,\r\n\t\t\tUID: localStorage.getItem(\"UID\"),\r\n\t\t  }).then((response) => { \r\n\t\t  console.log(response); \r\n\t\t  this.setState({subscribed:true})\r\n\t\t  }); \r\n\t \r\n\tthis.inital_reputation()\t\r\n\t}\r\n\r\n\r\nunsubscribe(){\r\nif(this.state.owner){\r\n\talert(\"You can't unsubscribe your own platform!\")\r\n}\r\nelse if(this.state.co_owner){\r\n\tconsole.log(\"co\"); \r\n\tthis.op_delrep();\r\n    this.op_uncoown();\r\n\tthis.op_unsub();\r\n   \r\n}\r\nelse{\r\n\tthis.op_delrep();   \r\n    this.op_unsub();\r\n\r\n}\r\nthis.get_ranklist();\r\n}\r\n\r\n\r\n\r\n\r\nop_unsub(){\r\n//    const url = `https://juice-quiz.herokuapp.com/api/platform/delSub/${this.state.PID}`;\r\n\tconst url= `http://localhost:3001/api/platform/delSub/${this.state.PID}`;\r\n\t     \r\n\t\t  Axios.delete(url, { data:{UID: localStorage.getItem(\"UID\")}}).then((response) => { \r\n\t\t  console.log(response);\t \r\n\t\t  }); \r\n\t this.setState({subscribed:false})\r\n}\r\n\r\nop_uncoown(){\r\n    // const url = `https://juice-quiz.herokuapp.com/api/platform/delCoown/${this.state.PID}`;\r\n\tconst url= `http://localhost:3001/api/platform/delCoown/${this.state.PID}`;\r\n\t     \r\n\t\t  Axios.delete(url, { data:{UID: localStorage.getItem(\"UID\")}\r\n\t\t\t\r\n\t\t  }).then((response) => { \r\n\t\t  console.log(response); \r\n\t\t  \r\n\t\t  }); \r\n\t\t  this.setState({co_owner:false})\r\n}\r\n\r\nop_delrep(){\r\n\t // const url = `https://juice-quiz.herokuapp.com/api/platform/delRep/${this.state.PID}`;\r\n\t  const url= `http://localhost:3001/api/platform/delRep/${this.state.PID}`;\r\n\t\t   \r\n\t\t\tAxios.delete(url, { data:{UID: localStorage.getItem(\"UID\")}  \r\n\t\t\t}).then((response) => { \r\n\t\t\tconsole.log(response); \r\n\t\t\t}); \r\n\t\t\t\r\n  }\r\n\r\n\r\n\r\n\t\r\n\tinital_reputation(){\r\n\t   // const url = 'https://juice-quiz.herokuapp.com/api/platform/initalR';\r\n\t  const url= 'http://localhost:3001/api/platform/initalR';\r\n\t     \r\n\t\t  Axios.post(url, { \r\n\t\t\tPID : this.state.PID,\r\n\t\t\tUID: localStorage.getItem(\"UID\"),\r\n\t\t  }).then((response) => { \r\n\t\t  console.log(response); \r\n\t\t  this.setState({subscribed:true})\r\n\t\t  }); \r\n\r\n\r\n\t}\r\n\r\n// Apply function \r\n\tdo_apply(){\r\n\t\t//  const url = `https://juice-quiz.herokuapp.com/api/platform/doapply`;\r\n\t\t  const url= `http://localhost:3001/api/platform/doapply`;\r\n\t     \r\n\t\t  Axios.post(url, { \r\n\t\t\tPID : this.state.PID,\r\n\t\t\tUID: localStorage.getItem(\"UID\"),\r\n\t\t  }).then((response) => { \r\n\t\t  console.log(response); \r\n\t\t  this.setState({co_owner:true})\r\n\t\t  }); \r\n\t};\r\n      \r\n   apply(){\r\n     if(!this.state.subscribed){\r\n\t\t alert(\"You need to subscribe the platform first!\")\r\n\t }\r\n\t else{\r\n\t\t this.get_Urep();\r\n\t\t if(this.state.Urep < this.state.replimit){\r\n\t\t\t alert(\"You didn't reach the co-owner requirment\")\r\n\t\t }\r\n\t\t else{\r\n\t\t\t this.do_apply();\r\n\t\t }\r\n\t }\r\n   }\r\n\r\n   get_replimit(){\r\n        //\t  const url = `https://juice-quiz.herokuapp.com/api/platform/${this.state.PID}/replimit`;\r\n\tconst url= `http://localhost:3001/api/platform/${this.state.PID}/replimit`;\r\n\t\t  Axios.get(url).then(res=>{return res.data})\r\n\t\t  .then((response) => {   \r\n\t\t  this.setState({replimit:response[0]['replimit']});\r\n\t\t  console.log(this.state.replimit)\r\n\t\t  });\r\n   };\r\n   \r\n   get_Urep(){\r\n\t   //  const url = `https://juice-quiz.herokuapp.com/api/platform/userRep/${localStorage.getItem(\"UID\")}`;\r\n\t const url= `http://localhost:3001/api/platform/userRep/${localStorage.getItem(\"UID\")}`;\r\n\t    Axios.get(url,{\r\n\t\t\tparams:{\r\n\t\t\tPID : this.state.PID,}\r\n\t   }).then(res=>{return res.data})\r\n\t   .then((response) => {   \r\n\t\t   if(this.state.subscribed){\r\n\t   this.setState({Urep:response[0]['Rpoint']});}\r\n\t   });\r\n   };\r\n\r\n\tasync get(){\r\n\t\tthis._isMounted = true;\r\n    \t// const url = `https://juice-quiz.herokuapp.com/api/platform/quizlist/${this.state.PID}`;\r\n\t   const url= `http://localhost:3001/api/platform/quizlist/${this.state.PID}`;\r\n      const res = await Axios.get(url)\r\n      .then(res=>{return res.data})\r\n      .then( result =>{\r\n\t\t  if(this._isMounted){\r\n\t\t  //console.log(result);\r\n          this.setState({places:result},()=>{console.log(this.state.places);});\r\n          this.setState({renderList:this.state.places});}          \r\n       });\r\n    };\r\n\r\n    async get_ranklist(){\r\n\t   // const url = `https://juice-quiz.herokuapp.com/api/platform/ranklist/${this.state.PID}`;\r\n\t\tconst url= `http://localhost:3001/api/platform/ranklist/${this.state.PID}`;\r\n\t\tconst res = await Axios.get(url)\r\n\t\t.then(res=>{return res.data})\r\n\t\t.then( result =>{\r\n\t\t\tif(this._isMounted){\r\n\t\t\tconsole.log(result);\r\n\t\t\tthis.setState({rank:result},()=>{console.log(this.state.rank);});\r\n\t\t\tthis.setState({rankList:this.state.rank});}          \r\n\t\t });\r\n\t};\r\n\r\n\tis_sub(){\t\t\r\n      // const url = 'https://juice-quiz.herokuapp.com/api/platform/subscribe';\r\n\t \tconst url= `http://localhost:3001/api/platform/subscribe`;\r\n         Axios.post(url, {\r\n\t\t\tPID : this.state.PID,\r\n\t\t\tUID: localStorage.getItem(\"UID\"),\r\n\t\t  }).then((response) => {\r\n\t\t\t//console.log(response.data);\r\n\t\t\tthis.setState({subscribed: response.data[\"subscribe\"]})\r\n\t\t  });\r\n\t};\r\n   \r\n\tis_coowner(){\r\n\t\t\r\n\t\t const url = 'https://juice-quiz.herokuapp.com/api/platform/coowner';\r\n\t\t//const url= `http://localhost:3001/api/platform/coowner`;\r\n\t\tAxios.post(url, {\r\n\t\t   PID : this.state.PID,\r\n\t\t   UID: localStorage.getItem(\"UID\"),\r\n\t\t }).then((response) => {\r\n\t\t   //console.log(response.data);\r\n\t\t   this.setState({co_owner: response.data[\"coowner\"]})\r\n\t\t });\r\n    };\r\n\r\n\tis_owner(){\r\n\t\t\r\n\t\t const url = 'https://juice-quiz.herokuapp.com/api/platform/owner';\r\n\t//\t const url= `http://localhost:3001/api/platform/owner`;\r\n\t\tAxios.post(url, {\r\n\t\t   PID : this.state.PID,\r\n\t\t   UID: localStorage.getItem(\"UID\"),\r\n\t\t }).then((response) => {\r\n\t\t   //console.log(response.data);\r\n\t\t   this.setState({owner: response.data[\"owner\"]})\r\n\t\t });\r\n    };\r\n\r\n    is_allowCown(){\r\n\t\tconsole.log(\"start\")\r\n\t const url = 'https://juice-quiz.herokuapp.com/api/platform/allow_co';\r\n   //const url= `http://localhost:3001/api/platform/allow_co`;\r\n    Axios.post(url, {\r\n      PID : this.state.PID,\r\n    }).then((response) => {\r\n      console.log(response.data);\r\n      this.setState({allow_coowner: response.data[\"allow_co\"]})\r\n });\r\n\t}\r\n\r\n//Search \r\n\thandleChangeSearch(e) {  \r\n\t\tthis.setState({searchContent: e.target.value});   \r\n\t} ;\r\n\r\n\tasync search(){\r\n\t\tif (this.state.searchContent===\"\"){\r\n\t\t\tthis.get();\r\n\t\t}else{\r\n\t\t    const url= `https://juice-quiz.herokuapp.com/api/quiz/${this.state.searchContent}`;\r\n\t\t//\tconst url= `http://localhost:3001/api/quiz/${this.state.searchContent}`;\r\n\t\t  const res = await Axios.get(url,{\r\n\t\t\tparams: {\r\n\t\t\t  PID: this.state.PID\t\t\t  \r\n\t\t\t}\r\n\t\t  })\r\n\t\t  .then(res=>{return res.data})\r\n\t\t  .then( result =>{\r\n\t\t\t  console.log(result);\r\n\t\t\t  this.setState({places:result},()=>{console.log(this.state.places);});\r\n\t\t\t  this.setState({renderList:this.state.places});        \r\n\t\t   });\r\n\t\t} \r\n\t};\r\n\r\nstore=(place)=>{\r\n\tlocalStorage.setItem('QID',place.QID);\r\n\t\r\n}\r\n\r\n\r\n\r\n\r\n\trender() {     \r\n\t\tconst menu = this.state.rankList.map((place) => {\r\n\t\t\treturn(\r\n\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"rankList\">   \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t<div> \r\n\t\t\t\t\t<img src={'../'+place.pic} className=\"rankIcon\" />\r\n\t\t\t\t \r\n\t\t\t\t\t\t<h4 class=\"rankName\">{place.Uname}</h4> \r\n\t\t\t\t\t\t<h4 class=\"rankRepo\">reputation:{place.Rpoint}{}</h4> \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div class=\"reputationValue\"> \r\n\t\t\t\t\t\t \r\n\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t \r\n\t\t\t\t</div>\r\n\t\t\t   \r\n\t\t\t);\r\n\t\t});\r\n\t\tconsole.log(\"owener-status\" );\r\n\t\t\r\n\t\tconsole.log((this.state.owner));\r\n\r\n\t\tconsole.log(\"co_owener-status\" );\r\n\t\t\r\n\t\tconsole.log((this.state.co_owner));\r\n\r\n\t\tconsole.log(\"result\")\r\n\t\t \r\n\t\tconsole.log(((!this.state.owner)||(!this.state.co_owner)));\r\n\t\treturn (\r\n           <div>\r\n\t\t\t\t<div className=\"rankBoard\"> \r\n\t\t\t\t<div className=\"rankBoardTitle\"> reputation rank  </div>\r\n\t\t\t\t<div className=\"rankMenu\">{menu}</div>\r\n\t\t\t\t</div> \r\n\r\n\t\t\t\t <div className=\"detailBoard\"> \r\n\t\t\t\t<div className=\"detailTitle\"> Platform Information </div>  \r\n\t\t\t\t<h4 class=\"detailRepo\">Allowed to be co-owner of this platform:{this.state.allow_coowner&&<h4 class=\"detialText\">Yes</h4>||<h4 class=\"detialText\">No</h4> }</h4> \r\n\t\t\t\t<h4 class=\"detailRepo\">Reputation need to be cowoner:<h4 class=\"detialText\">{this.state.replimit}</h4></h4> \r\n\t\t\t\t\r\n\t\t\t\t<h4 class=\"detailRepo\">Current reputation:<h4 class=\"detialText\">{this.state.Urep}</h4></h4> \r\n\r\n\t\t\t\t</div>  \r\n\r\n\r\n            <div className=\"header\"> \r\n\t\t\t</div> \r\n\t\t\t  <div className=\"singlePlatformsearch\"> \r\n\t\t\t<input className='singlePlatformsearchContent' required onChange={this.handleChangeSearch.bind(this)}></input>\r\n\t\t\t<button className='singlePlatformsearchButton'onClick={()=>this.search()}>Search </button>\r\n\t\t\t</div>     \r\n            \r\n\t\t\t<div className=\"platFormButton\"> \r\n                <img src= {'https://juicequiztest.s3.amazonaws.com'+this.state.Pcover}  className='icon'></img> \r\n            <div className='singlePlatFormName'>{this.state.Pname}</div>\r\n\t\t\t\r\n\t\t\t\r\n\t\t \r\n\t\t\t{(!this.state.subscribed)&&<button className='platformaccount'  onClick={()=>this.subscribe()}>subscribe</button>||<button className='platformaccount'   >subscribed √</button>}\r\n\t\t\t{((!this.state.owner)&&(!this.state.co_owner))&&<button className='platformaccount'  onClick={()=>this.apply()}>Apply to be co-owner</button>}\r\n\t\t\t{(this.state.owner||this.state.co_owner)&&<Link  className='newQuizLink' to={'/quizInit'}>\r\n\t\t\t<span>{\"Release New Quiz\"}</span> \r\n            </Link>}\r\n\t \r\n           \r\n            </div>\r\n\t\t\t<div className=\"sort\">\r\n\r\n\t\t\t\r\n\t\t\t<button className='sortButton'onClick={()=>this.sortByRate()}>⭐ Rate </button>\r\n            <button className='sortButton' onClick={()=>this.sortByHot()}>🔥 Hot </button>\r\n\t\t\t</div>\r\n \r\n\t\t\t<div className='platFormlist'> \r\n\t\t\t<div>\r\n\t\t\t{this.state.rander&&this.state.renderList.map((place) => {\r\n\t\t//console.log(this.state.places)\t\r\n\t\treturn(\r\n\t\t \r\n\t\t\t<div className=\"SinglePlatformitem\">  \r\n\t\t\t <div >\r\n\t\t\t\t<Link className='SinglePlatformtitle' style={{textDecoration: \"none\"}} to={\"/platform/\"+this.state.PID+\"/answer/\"+place.QID } onClick={()=>this.store(place)}>  {place.Qname}  \r\n\t\t\t\t<div className='rate'>⭐: {place.ave_rate} 🔥：{place.hot}</div> \r\n\t\t\t\r\n\t\t\t\t</Link> </div >\r\n\t\t\t \t<div className='content'> \r\n\t\t\t\t <div className='discription'>{place.description}</div>\r\n\t\t\t \t<Media object src={'../'+place.pic} alt={place.Releaser} className='userIcon'/> \r\n\t\t\t\t </div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t);\r\n\t})}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t</div>\r\n\t\t\t </div>\r\n\t\t</div>\r\n\t\t)\r\n\t}\r\n    \r\n}"]},"metadata":{},"sourceType":"module"}