{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\12624\\\\Desktop\\\\t1\\\\Juice-Quiz\\\\client\\\\src\\\\platformManage\\\\mangaePlatform.js\";\nimport React from 'react';\nimport { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport './mangaePlatform.css';\nimport { Media } from 'reactstrap';\nimport Axios from \"axios\";\nimport styles from \"bootstrap/dist/css/bootstrap.min.css\";\nimport { Button, Card } from 'react-bootstrap';\nexport default class managePlatform extends Component {\n  constructor(props) {\n    super(props);\n\n    this.store = place => {\n      console.log(\"clicked\");\n      localStorage.setItem('EditPID', place['PID']);\n    };\n\n    this.state = {\n      trigger: false,\n      place: \"\",\n      renderList: [],\n      UID: localStorage.getItem(\"UID\")\n    };\n    this.get(); //this.setState({renderList:places});     \n  }\n\n  async get() {\n    this._isMounted = true;\n    const url = `https://juice-quiz.herokuapp.com/api/user/owned/${this.state.UID}`; //  const url= `http://localhost:3001/api/user/owned/${this.state.UID}`;\n\n    const res = await Axios.get(url).then(res => {\n      return res.data;\n    }).then(result => {\n      if (this._isMounted) {\n        //console.log(result);\n        this.setState({\n          places: result\n        }, () => {\n          console.log(this.state.places);\n        });\n        this.setState({\n          renderList: this.state.places\n        });\n      }\n    });\n  }\n\n  //在这里保证点击每个图片可以转到对应的platform\n  render() {\n    const menu = this.state.renderList.map(place => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          paddingLeft: '5%',\n          paddingTop: '5%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 2\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: \"managePlatFormSingleItem\",\n        style: {\n          width: '25rem'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 4\n        }\n      }, /*#__PURE__*/React.createElement(Card.Img, {\n        src: 'https://juicequiztest.s3.amazonaws.com' + place.Pcover,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 3\n        }\n      }), /*#__PURE__*/React.createElement(Card.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 3\n        }\n      }, /*#__PURE__*/React.createElement(Card.Title, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 5\n        }\n      }, place.Pname), /*#__PURE__*/React.createElement(Link, {\n        to: '/platformEdit/' + place.Pname,\n        onClick: () => this.store(place),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 2\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"primary\",\n        onClick: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 2\n        }\n      }, \"Manage\")))));\n    });\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ManagePlatFormList\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 1\n      }\n    }, menu));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/12624/Desktop/t1/Juice-Quiz/client/src/platformManage/mangaePlatform.js"],"names":["React","Component","Link","Media","Axios","styles","Button","Card","managePlatform","constructor","props","store","place","console","log","localStorage","setItem","state","trigger","renderList","UID","getItem","get","_isMounted","url","res","then","data","result","setState","places","render","menu","map","paddingLeft","paddingTop","width","Pcover","Pname"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Component } from 'react';  \r\nimport { Link } from 'react-router-dom';\r\nimport './mangaePlatform.css' ;    \r\nimport { Media } from 'reactstrap'; \r\nimport Axios from \"axios\";    \r\n\r\nimport styles  from \"bootstrap/dist/css/bootstrap.min.css\"\r\nimport {Button, Card} from 'react-bootstrap';\r\n\r\n    export default class managePlatform extends Component {\r\n        constructor(props) {\r\n            super(props);\r\n            this.state = { \r\n              trigger:false,  \r\n\t\t\t\tplace:\"\",\r\n\t\t\t\trenderList:[],\r\n\t\t\t\tUID:localStorage.getItem(\"UID\"),\r\n            };   \r\n            this.get();\r\n\t\t\t//this.setState({renderList:places});     \r\n          }\r\n\r\n\r\n           \r\n\t\t  async get(){\r\n\t\t\tthis._isMounted = true;\r\n\t\t const url = `https://juice-quiz.herokuapp.com/api/user/owned/${this.state.UID}`;\r\n\t\t\t//  const url= `http://localhost:3001/api/user/owned/${this.state.UID}`;\r\n\t\t  const res = await Axios.get(url)\r\n\t\t  .then(res=>{return res.data})\r\n\t\t  .then( result =>{\r\n\t\t\t  if(this._isMounted){\r\n\t\t\t  //console.log(result);\r\n\t\t\t  this.setState({places:result},()=>{console.log(this.state.places);});\r\n\t\t\t  this.setState({renderList:this.state.places});}          \r\n\t\t   });\r\n\t\t}\r\n\r\n\r\nstore=(place)=>{\r\n\t console.log(\"clicked\");\r\n\tlocalStorage.setItem('EditPID', place['PID']);\r\n \r\n}\r\n   \r\n  \r\n//在这里保证点击每个图片可以转到对应的platform\r\n    \r\nrender(){ \r\n        \r\n\tconst menu = this.state.renderList.map((place) => {\r\n\t\treturn(\r\n\t\t\t\r\n\t<div style={{paddingLeft : '5%' ,paddingTop : '5%' }}  >   \r\n\t \t<Card className=\"managePlatFormSingleItem\" style={{width : '25rem' }}  >\r\n\t\t<Card.Img  src={'https://juicequiztest.s3.amazonaws.com'+place.Pcover} />\r\n  \r\n  <Card.Body>\r\n    <Card.Title>{place.Pname}</Card.Title>\r\n  \r\n\r\n\t<Link to={'/platformEdit/'+place.Pname} onClick={()=>this.store(place)}>\r\n\t<Button variant=\"primary\" onClick>Manage</Button>\r\n\t\t\t</Link>\r\n  </Card.Body>\r\n</Card>  \r\n\t\t\t</div>\r\n\t\t   \r\n\t\t);\r\n\t});\r\n   \r\n\treturn (\r\n\t\t<> \r\n<div className=\"ManagePlatFormList\">\r\n{menu}</div>\r\n\r\n\t\t</>\r\n\t\t\t  \r\n\t);\r\n  \r\n}\r\n\r\n}"]},"metadata":{},"sourceType":"module"}