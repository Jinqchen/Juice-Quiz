{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dry19\\\\Documents\\\\GitHub\\\\Juice-Quiz\\\\client\\\\src\\\\Answering.js\";\nimport React from 'react';\nimport { Component } from 'react';\nimport Axios from \"axios\";\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      // const url = `https://juice-quiz.herokuapp.com/api/answer/${this.state.QID}`;\n      const url = `http://localhost:3001/api/answer/${this.state.QID}`;\n      console.log(\"Component did mount\");\n      Axios.get(url).then(res => {\n        return res.data;\n      }).then(result => {\n        if (this._isMounted) {\n          //console.log(result);\n          this.setState({\n            data: result\n          }, () => {\n            console.log(this.state.data);\n          });\n        }\n      }); // setTimeout(() => {\n      // \tfetch(url)\n      // \t\t.then(response => { return response.json() })\n      // \t\t.then(json => {\n      // \t\t\tconsole.log(json);\n      // \t\t\tvar myJSON = JSON.stringify(json);\n      // \t\t\tvar myObj = JSON.parse(myJSON);\n      // \t\t\tthis.setState({ ques: JSON.stringify(myObj) });\n      // \t\t\tconsole.log(\"before\");\n      // \t\t\tthis.processData();\n      // \t\t\tconsole.log(\"after\");\n      // \t\t})\n      // })\n    };\n\n    this.processData = () => {\n      var data = JSON.parse(this.state.ques);\n      this.setState({\n        queslength: data[\"count(QuestionID)\"]\n      });\n      let index = this.state.currentQuestion;\n      console.log(index);\n      console.log(this.state.queslength);\n      console.log(\"processing\");\n      let Optionx = data[index + 1]['Optionx'];\n      var option1 = Optionx[0];\n      var option2 = Optionx[1];\n      var option3 = Optionx[2];\n      var option4 = Optionx[3];\n      this.setState({\n        quesText: data[index + 1]['Qtext']\n      });\n      this.setState({\n        opt1: option1\n      });\n      this.setState({\n        opt2: option2\n      });\n      this.setState({\n        opt3: option3\n      });\n      this.setState({\n        opt4: option4\n      });\n      this.setState({\n        answerOptions: [option1, option2, option3, option4]\n      });\n    };\n\n    this.handleNextQuestion = answerOption => {\n      var currentQuestion = this.state.currentQuestion;\n      console.log('handler');\n      var isCorrect = false;\n\n      if (answerOption[\"correctness\"] === 1) {\n        isCorrect = true;\n      }\n\n      var currentScore = this.state.currentScore;\n      var questlen = this.state.queslength;\n      const nextQuestion = currentQuestion + 1;\n      console.log('nextQuestion');\n      console.log('questlen');\n      this.setState({\n        currentQuestion: nextQuestion\n      });\n\n      if (nextQuestion < questlen) {\n        if (isCorrect) {\n          currentScore = currentScore + 1;\n          this.setState({\n            currentScore: currentScore\n          });\n        }\n      } else {\n        if (isCorrect) {\n          currentScore = currentScore + 1;\n          this.setState({\n            currentScore: currentScore\n          });\n        }\n\n        this.setState({\n          showScore: true\n        });\n      }\n\n      ;\n      console.log(this.state.currentQuestion);\n      this.processData();\n    };\n\n    this.state = {\n      data: \"\",\n      currentQuestion: 0,\n      showScore: false,\n      currentScore: 0,\n      ques: [],\n      queslength: 0,\n      quesText: \"\",\n      opt1: \"\",\n      opt2: \"\",\n      opt3: \"\",\n      opt4: \"\",\n      answerOptions: [],\n      QID: localStorage.getItem('QID')\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"app\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 4\n      }\n    }, this.state.showScore ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"score-section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 6\n      }\n    }, \"You scored  out of \", this.state.currentScore) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"question-section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"question-count\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }\n    }, \"Question \", this.state.currentQuestion + 1, \" \"), \"/\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"question-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 8\n      }\n    }, this.state.quesText)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"answer-section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 7\n      }\n    }, this.state.answerOptions.map(answerOption => /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.handleNextQuestion(answerOption),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }\n    }, answerOption['Optionx'])))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/dry19/Documents/GitHub/Juice-Quiz/client/src/Answering.js"],"names":["React","Component","Axios","App","constructor","props","componentDidMount","url","state","QID","console","log","get","then","res","data","result","_isMounted","setState","processData","JSON","parse","ques","queslength","index","currentQuestion","Optionx","option1","option2","option3","option4","quesText","opt1","opt2","opt3","opt4","answerOptions","handleNextQuestion","answerOption","isCorrect","currentScore","questlen","nextQuestion","showScore","localStorage","getItem","render","map"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Component } from 'react';\r\nimport Axios from \"axios\";\r\n\r\n\r\nexport default class App extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tdata:\"\",\r\n\t\t\tcurrentQuestion: 0,\r\n\t\t\tshowScore: false,\r\n\t\t\tcurrentScore: 0,\r\n\t\t\tques: [],\r\n\t\t\tqueslength: 0,\r\n\t\t\tquesText: \"\",\r\n\t\t\topt1: \"\",\r\n\t\t\topt2: \"\",\r\n\t\t\topt3: \"\",\r\n\t\t\topt4: \"\",\r\n\t\t\tanswerOptions: [],\r\n\t\t\tQID: localStorage.getItem('QID')\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n        // const url = `https://juice-quiz.herokuapp.com/api/answer/${this.state.QID}`;\r\n\t\tconst url= `http://localhost:3001/api/answer/${this.state.QID}`;\r\n\t\tconsole.log(\"Component did mount\")\r\n        Axios.get(url)\r\n\t\t.then(res=>{return res.data})\r\n\t\t.then( result =>{\r\n\t\t\tif(this._isMounted){\r\n\t\t\t//console.log(result);\r\n\t\t\tthis.setState({data:result},()=>{console.log(this.state.data);});\r\n\t\t\t}          \r\n\t\t });\r\n\r\n\r\n\r\n\t\t// setTimeout(() => {\r\n\t\t// \tfetch(url)\r\n\t\t// \t\t.then(response => { return response.json() })\r\n\t\t// \t\t.then(json => {\r\n\t\t// \t\t\tconsole.log(json);\r\n\t\t// \t\t\tvar myJSON = JSON.stringify(json);\r\n\t\t// \t\t\tvar myObj = JSON.parse(myJSON);\r\n\t\t// \t\t\tthis.setState({ ques: JSON.stringify(myObj) });\r\n\t\t// \t\t\tconsole.log(\"before\");\r\n\t\t// \t\t\tthis.processData();\r\n\t\t// \t\t\tconsole.log(\"after\");\r\n\r\n\t\t// \t\t})\r\n\t\t// })\r\n\r\n\r\n\t}\r\n\r\n\r\n\r\n\r\n\tprocessData = () => {\r\n\t\tvar data = JSON.parse(this.state.ques);\r\n\t\tthis.setState({ queslength: data[\"count(QuestionID)\"] });\r\n\t\tlet index = this.state.currentQuestion;\r\n\t\tconsole.log(index);\r\n\t\tconsole.log(this.state.queslength);\r\n\t\tconsole.log(\"processing\");\r\n\t\tlet Optionx = data[index + 1]['Optionx'];\r\n\t\tvar option1 = Optionx[0];\r\n\t\tvar option2 = Optionx[1];\r\n\t\tvar option3 = Optionx[2];\r\n\t\tvar option4 = Optionx[3];\r\n\t\tthis.setState({ quesText: data[index + 1]['Qtext'] });\r\n\t\tthis.setState({ opt1: option1 });\r\n\t\tthis.setState({ opt2: option2 });\r\n\t\tthis.setState({ opt3: option3 });\r\n\t\tthis.setState({ opt4: option4 });\r\n\t\tthis.setState({ answerOptions: [option1, option2, option3, option4] });\r\n\t}\r\n\r\n\r\n\thandleNextQuestion = (answerOption) => {\r\n\t\tvar currentQuestion = this.state.currentQuestion;\r\n\t\tconsole.log('handler');\r\n\t\tvar isCorrect = false;\r\n\t\tif (answerOption[\"correctness\"] === 1) { isCorrect = true; }\r\n\r\n\t\tvar currentScore = this.state.currentScore;\r\n\t\tvar questlen = this.state.queslength;\r\n\r\n\t\t\r\n\t\tconst nextQuestion = currentQuestion+1;\r\n\t\tconsole.log('nextQuestion');\r\n\t\tconsole.log('questlen');\r\n\t\tthis.setState({ currentQuestion: nextQuestion });\r\n\t\tif (nextQuestion < questlen) {\r\n\t\t\tif (isCorrect) {\r\n\t\t\t\tcurrentScore = currentScore + 1;\r\n\t\t\t\tthis.setState({ currentScore: currentScore });\r\n\t\t\t}\r\n\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\tif (isCorrect) {\r\n\t\t\t\tcurrentScore = currentScore + 1;\r\n\t\t\t\tthis.setState({ currentScore: currentScore })\r\n\t\t\t}\r\n\t\t\tthis.setState({ showScore: true });\r\n\t\t};\r\n\t\t\r\n\t\tconsole.log(this.state.currentQuestion);\r\n\t\tthis.processData();\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className='app'>\r\n\t\t\t\t{this.state.showScore ? (\r\n\t\t\t\t\t<div className='score-section'>You scored  out of {this.state.currentScore}</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<div className='question-section'>\r\n\t\t\t\t\t\t\t<div className='question-count'>\r\n\t\t\t\t\t\t\t\t<span>Question {this.state.currentQuestion + 1} </span>/\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='question-text'>{this.state.quesText}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='answer-section'>\r\n\t\t\t\t\t\t\t{this.state.answerOptions.map((answerOption) =>\r\n\t\t\t\t\t\t\t\t<button onClick={() => this.handleNextQuestion(answerOption)}>{answerOption['Optionx']}</button>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n"]},"metadata":{},"sourceType":"module"}