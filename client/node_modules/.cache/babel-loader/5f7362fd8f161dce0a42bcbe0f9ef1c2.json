{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\dry19\\\\Documents\\\\GitHub\\\\Juice-Quiz\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\dry19\\\\Documents\\\\GitHub\\\\Juice-Quiz\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"C:\\\\Users\\\\dry19\\\\Documents\\\\GitHub\\\\Juice-Quiz\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"C:\\\\Users\\\\dry19\\\\Documents\\\\GitHub\\\\Juice-Quiz\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\dry19\\\\Documents\\\\GitHub\\\\Juice-Quiz\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\dry19\\\\Documents\\\\GitHub\\\\Juice-Quiz\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\dry19\\\\Documents\\\\GitHub\\\\Juice-Quiz\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{Component}from'react';import'./menu.css';import PlatFormList from'./platFormList';//import { PLACES } from './platFormItems';\nimport Axios from\"axios\";var Menu=/*#__PURE__*/function(_Component){_inherits(Menu,_Component);var _super=_createSuper(Menu);function Menu(props){var _this;_classCallCheck(this,Menu);_this=_super.call(this,props);_this.filter=function(tag){var url=\"https://juice-quiz.herokuapp.com/api/Platform/\".concat(tag);//const url= `http://localhost:3001/api/Platform/${tag}`;\nvar res=Axios.get(url).then(function(res){return res.data;}).then(function(result){console.log(result);_this.setState({places:result});_this.state.renderList=_toConsumableArray(_this.state.places);console.log(_this.state.renderList.length);_this.setState({places:_this.state.renderList});});};_this.state={searchContent:\"\",places:\"\",renderList:[{}]};_this.process();return _this;}// componentDidMount=()=>{\n//     this.process();\n// };\n// filter=(tag)=>{ \n//     const newList=[]\n//     for (let i = 0; i < this.state.places.length; i++) { \n//         if(this.state.places[i].tag===tag){    \n//           newList.push(this.state.places[i])\n//         }\n//     }\n//          console.log(newList.length) \n//          this.setState({renderList:newList})\n// };\n_createClass(Menu,[{key:\"handleChangeSearch\",value:function handleChangeSearch(e){this.setState({searchContent:e.target.value});}},{key:\"process\",value:function(){var _process=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this2=this;var url,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url='https://juice-quiz.herokuapp.com/api/Platform';// const url= 'http://localhost:3001/api/Platform';\n_context.next=3;return Axios.get(url).then(function(res){return res.data;}).then(function(result){console.log(result);_this2.setState({places:result});_this2.state.renderList=_toConsumableArray(_this2.state.places);console.log(_this2.state.renderList.length);_this2.setState({places:_this2.state.renderList});});case 3:res=_context.sent;case 4:case\"end\":return _context.stop();}}},_callee);}));function process(){return _process.apply(this,arguments);}return process;}()//在这里进行qurey\n},{key:\"search\",value:function(){var _search=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this3=this;var url,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:alert(this.state.searchContent);url=\"https://juice-quiz.herokuapp.com/api/platform/\".concat(this.state.searchContent);// const url= `http://localhost:3001/api/platform/${this.state.searchContent}`;\n_context2.next=4;return Axios.get(url).then(function(res){return res.data;}).then(function(result){//console.log(result);\n_this3.setState({places:result},function(){console.log(_this3.state.places);});_this3.setState({renderList:_this3.state.places});});case 4:res=_context2.sent;case 5:case\"end\":return _context2.stop();}}},_callee2,this);}));function search(){return _search.apply(this,arguments);}return search;}()},{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"menu\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tagFilter\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this4.process();},type:\"button\",className:\"tag\"},\" General\"),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this4.filter(\"Music\");},type:\"button\",className:\"tag\"},\"Music\"),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this4.filter(\"Sport\");},type:\"button\",className:\"tag\"},\"Sport\"),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this4.filter(\"Programming\");},type:\"button\",className:\"tag\"},\" Programing\"),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this4.filter(\"Science\");},type:\"button\",className:\"tag\"},\"Science\"),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this4.filter(\"Food\");},type:\"button\",className:\"tag\"},\"Food\"),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this4.filter(\"Movie\");},type:\"button\",className:\"tag\"},\"Movie\"),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this4.filter(\"Life\");},type:\"button\",className:\"tag\"},\"Life\")),/*#__PURE__*/React.createElement(\"div\",{className:\"search\"},/*#__PURE__*/React.createElement(\"input\",{className:\"searchContent\",required:true,onChange:this.handleChangeSearch.bind(this)}),/*#__PURE__*/React.createElement(\"button\",{className:\"searchButton\",onClick:function onClick(){return _this4.search();}},\"Search \")),/*#__PURE__*/React.createElement(\"div\",{className:\"item\"},/*#__PURE__*/React.createElement(PlatFormList,{places:this.state.renderList}))));}}]);return Menu;}(Component);export{Menu as default};","map":{"version":3,"sources":["C:/Users/dry19/Documents/GitHub/Juice-Quiz/client/src/page/menu.js"],"names":["React","Component","PlatFormList","Axios","Menu","props","filter","tag","url","res","get","then","data","result","console","log","setState","places","state","renderList","length","searchContent","process","e","target","value","alert","handleChangeSearch","bind","search"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Component } from 'react';\r\nimport './menu.css'  \r\nimport PlatFormList from './platFormList'; \r\n//import { PLACES } from './platFormItems';\r\nimport Axios from \"axios\";\r\n\r\nexport default class Menu extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n            searchContent:\"\",\r\n\t\t\tplaces: \"\",\r\n            renderList:[{}]\r\n\t\t};\r\n   \r\n       this.process();\r\n        \r\n\t}\r\n    \r\n    \r\n    // componentDidMount=()=>{\r\n    //     this.process();\r\n       \r\n    // };\r\n\r\n\r\n\r\n\r\n    // filter=(tag)=>{ \r\n    //     const newList=[]\r\n    //     for (let i = 0; i < this.state.places.length; i++) { \r\n    //         if(this.state.places[i].tag===tag){    \r\n    //           newList.push(this.state.places[i])\r\n    //         }\r\n    //     }\r\n    //          console.log(newList.length) \r\n    //          this.setState({renderList:newList})\r\n    // };\r\n  \r\n     filter=(tag)=>{\r\n        const url = `https://juice-quiz.herokuapp.com/api/Platform/${tag}`;\r\n        //const url= `http://localhost:3001/api/Platform/${tag}`;\r\n      const res = Axios.get(url)\r\n      .then(res=>{return res.data})\r\n      .then( result =>{\r\n          console.log(result);\r\n          this.setState({places:result});\r\n          this.state.renderList=[...this.state.places];\r\n          console.log(this.state.renderList.length);\r\n          this.setState({places:this.state.renderList});\r\n       });\r\n     }\r\n    \r\n\r\n\r\n\r\n    handleChangeSearch(e) {  \r\n\t\tthis.setState({searchContent: e.target.value});   \r\n\t} \r\n \r\n    async process(){\r\n       const url = 'https://juice-quiz.herokuapp.com/api/Platform';\r\n       // const url= 'http://localhost:3001/api/Platform';\r\n      const res = await Axios.get(url)\r\n      .then(res=>{return res.data})\r\n      .then( result =>{\r\n          console.log(result);\r\n          this.setState({places:result});\r\n          this.state.renderList=[...this.state.places];\r\n          console.log(this.state.renderList.length);\r\n          this.setState({places:this.state.renderList});\r\n       });\r\n    }\r\n\r\n    //在这里进行qurey\r\n    async search(){\r\n    alert(this.state.searchContent)\r\n    const url=`https://juice-quiz.herokuapp.com/api/platform/${this.state.searchContent}`;\r\n   // const url= `http://localhost:3001/api/platform/${this.state.searchContent}`;\r\n      const res = await Axios.get(url)\r\n      .then(res=>{return res.data})\r\n      .then( result =>{\r\n\t\t\r\n\t\t  //console.log(result);\r\n          this.setState({places:result},()=>{console.log(this.state.places);});\r\n          this.setState({renderList:this.state.places});        \r\n       });\r\n\r\n    \r\n    }\r\n \r\n\trender() {    \r\n\t\treturn (\r\n            <div>\r\n\t\t\t<div className=\"menu\">\r\n                \r\n            <div className=\"tagFilter\">\r\n                \r\n                 <button onClick={()=>this.process()}    type=\"button\"  className=\"tag\"> General</button>\r\n                 <button onClick={()=>this.filter(\"Music\")}    type=\"button\"  className=\"tag\">Music</button>\r\n                 <button onClick={()=>this.filter(\"Sport\")}    type=\"button\"  className=\"tag\">Sport</button>\r\n                 <button onClick={()=>this.filter(\"Programming\")}    type=\"button\"  className=\"tag\"> Programing</button>\r\n                 <button onClick={()=>this.filter(\"Science\")}   type=\"button\"  className=\"tag\">Science</button>\r\n                 <button onClick={()=>this.filter(\"Food\")}    type=\"button\"  className=\"tag\">Food</button>\r\n                 <button onClick={()=>this.filter(\"Movie\")}    type=\"button\"  className=\"tag\">Movie</button>\r\n                 <button onClick={()=>this.filter(\"Life\")}    type=\"button\" className=\"tag\">Life</button>\r\n            </div>\r\n            \r\n            \r\n            <div className=\"search\"> \r\n\t\t\t<input className='searchContent' required onChange={this.handleChangeSearch.bind(this)}></input>\r\n\t\t\t<button className='searchButton'onClick={()=>this.search()}>Search </button>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"item\">\r\n            <PlatFormList places={this.state.renderList} /> \r\n            </div>\r\n            {/* <div>\r\n                <button onClick={()=>this.process()} type=\"button\">Refresh</button>\r\n            </div> */}\r\n            </div>\r\n\t\t</div>\r\n\t\t);\r\n\t}\r\n    \r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}