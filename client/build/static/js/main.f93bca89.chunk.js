(this["webpackJsonpquiz-app-starter"]=this["webpackJsonpquiz-app-starter"]||[]).push([[0],{33:function(e,t,a){},34:function(e,t,a){},40:function(e,t,a){e.exports=a(81)},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),i=a(17),r=a.n(i),o=(a(45),a(6)),c=a(7),l=a(9),u=a(8),m=(a(46),a(47),a(48),a(4)),h=a.n(m),p=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={trigger:!1,userName:"",email:"",password:"",conformPassword:""},n}return Object(c.a)(a,[{key:"handleChangeUserName",value:function(e){this.setState({userName:e.target.value}),this.props.getUserName(this.state.userName)}},{key:"handleChangePassWord",value:function(e){this.setState({password:e.target.value}),this.props.getPassword(this.state.password)}},{key:"handleChangeEmail",value:function(e){this.setState({email:e.target.value}),this.props.getEmail(this.state.email)}},{key:"handleChangeConfirmPassword",value:function(e){this.setState({conformPassword:e.target.value}),this.props.getConfirm(this.state.conformPassword)}},{key:"signUp",value:function(){var e=this;this.state.password===this.state.conformPassword?h.a.post("https://juice-quiz.herokuapp.com/api/register",{username:this.state.userName,email:this.state.email,password:this.state.password,confirmPassword:this.state.confirmPassword}).then((function(t){console.log(t),e.setState({visible:!1}),e.props.signUpcallback(),e.props.Success()})):alert("The password is not the same")}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"signUpBoard"},s.a.createElement("button",{className:"cancel",onClick:function(){return e.props.signUpcallback()}},"X"),s.a.createElement("label",{className:"SIGNUP"},"Create Your account"),s.a.createElement("div",{className:"userInput"},s.a.createElement("input",{type:"text",placeholder:"Enter Email",name:"email",required:!0,onChange:this.handleChangeEmail.bind(this)})),s.a.createElement("div",{className:"userInput"},s.a.createElement("input",{type:"text",placeholder:"Enter UserName",name:"useName",required:!0,onChange:this.handleChangeUserName.bind(this)})),s.a.createElement("div",{className:"userInput"},s.a.createElement("input",{type:"password",placeholder:"Enter password",name:"password",required:!0,onChange:this.handleChangePassWord.bind(this)})),s.a.createElement("div",{className:"userInput"},s.a.createElement("input",{type:"password",placeholder:"Confirm your password",name:"confirmPassword",required:!0,onChange:this.handleChangeConfirmPassword.bind(this)}))),s.a.createElement("button",{className:"SignUp",onClick:function(){return e.signUp()}},"Sign in"))}}]),a}(n.Component),d=(a(67),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={trigger:!1,email:"",password:""},console.log(n.props.SignInVisible),n}return Object(c.a)(a,[{key:"handleChangePassWord",value:function(e){this.setState({password:e.target.value}),this.props.getPassword(this.state.password)}},{key:"handleChangeEmail",value:function(e){this.setState({email:e.target.value}),this.props.getEmail(this.state.email)}},{key:"signIn",value:function(){var e=this;h.a.post("https://juice-quiz.herokuapp.com/api/login",{email:this.state.email,password:this.state.password}).then((function(t){console.log(t.data),!0===t.data.success?(e.props.signIncallback(),localStorage.setItem("UID",t.data.UID),e.props.Success(),localStorage.setItem("Logged",!0)):alert(t.data.message)}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"signUpBoard"},s.a.createElement("button",{className:"cancel",onClick:function(){return e.props.signIncallback()}},"X"),s.a.createElement("button",{className:"SignIn",onClick:function(){return e.signIn()}},"Sign in"),s.a.createElement("label",{className:"SIGNUP"},"Login Your account"),s.a.createElement("div",{className:"userInput"},s.a.createElement("input",{type:"text",placeholder:"Enter Email",name:"email",required:!0,onChange:this.handleChangeEmail.bind(this)})),s.a.createElement("div",{className:"userInput"},s.a.createElement("input",{type:"password",placeholder:"Enter password",name:"password",required:!0,onChange:this.handleChangePassWord.bind(this)}))))}}]),a}(n.Component)),g=a(10),f=a(18),v=(a(68),a(19)),b=function(e){var t=Object(n.useState)(!1),a=Object(f.a)(t,2),i=a[0],r=a[1],o=function(){return r(!i)},c=[{title:"Subscribed",path:"./profile",icon:s.a.createElement(v.b,null),cName:"nav-text"},{title:"My Platforms",path:"./managePlatform",icon:s.a.createElement(v.e,null),cName:"nav-text"},{title:"Message",path:"./",icon:s.a.createElement(v.c,null),cName:"nav-text"},{title:"New platform",path:"/platformCreate",icon:s.a.createElement(v.g,null),cName:"nav-text"},{title:"Manage Quiz",path:"/manageQuiz",icon:s.a.createElement(v.d,null),cName:"nav-text"}];return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"navbar-icon"},s.a.createElement(g.b,{to:"#",className:"menu-bars"},s.a.createElement("img",{src:"account.jpg",onClick:o,className:"iconClick"}))),s.a.createElement("nav",{className:i?"nav-menu active":"nav-menu"},s.a.createElement("ul",{className:"nav-menu-items",onClick:o},s.a.createElement("li",{className:"navbar-toggle"},s.a.createElement(g.b,{to:"#",className:"menu-bars"},s.a.createElement(v.f,null))),c.map((function(e,t){return s.a.createElement("li",{key:t,className:e.cName},s.a.createElement(g.b,{to:e.path},e.icon,s.a.createElement("span",null,e.title)))})),s.a.createElement("li",{className:"nav-text",onClick:function(){console.log(e),e.signOutcallback()}},s.a.createElement(v.a,null),s.a.createElement("span",{onClick:e.signOutCallback},"Sign out")))))},E=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).signIncallback=function(){n.setState({SignInVisible:!1,display:"none"})},n.signUpcallback=function(){n.setState({SignupVisible:!1,display:"none"})},n.Success=function(){n.setState({login:!0}),localStorage.setItem("email",n.state.email)},n.signOut=function(){n.setState({login:!1}),localStorage.setItem("Logged",!1)},n.state={login:!1,SignInVisible:!1,SignupVisible:!1,userName:"",email:"",password:"",confirmPassword:"",display:"none"},n}return Object(c.a)(a,[{key:"getEmail",value:function(e){this.setState({email:e}),console.log("parent email is:"),console.log(this.state.email)}},{key:"getConfirm",value:function(e){this.setState({confirmPassword:e}),console.log("parent confirmpassword is:"),console.log(this.state.confirmPassword)}},{key:"getUserName",value:function(e){this.setState({userName:e}),console.log("parent userName is:"),console.log(this.state.userName)}},{key:"getPassword",value:function(e){this.setState({password:e}),console.log("parent password is:"),console.log(this.state.password)}},{key:"userIcon",value:function(){alert("icon hit")}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"navbar"},s.a.createElement(g.b,{to:"/"},s.a.createElement("img",{src:"logo.jpg",className:"juiceIcon"})),!this.state.login&&s.a.createElement("button",{onClick:function(){return e.setState({SignInVisible:!0,display:"block"})},type:"button",className:"account"},"Sign in"),!this.state.login&&s.a.createElement("button",{onClick:function(){return e.setState({SignupVisible:!0,display:"block"})},type:"button",className:"account"},"Sign up"),this.state.login&&s.a.createElement(b,{signOutcallback:this.signOut.bind(this)})),s.a.createElement("div",{className:"main",style:{display:this.state.display}},this.state.SignInVisible&&s.a.createElement(d,{signIncallback:this.signIncallback,Success:this.Success,getEmail:this.getEmail.bind(this),getPassword:this.getPassword.bind(this),className:"board"}),this.state.SignupVisible&&s.a.createElement(p,{signUpcallback:this.signUpcallback,Success:this.Success,getEmail:this.getEmail.bind(this),getConfirm:this.getConfirm.bind(this),getPassword:this.getPassword.bind(this),getUserName:this.getUserName.bind(this),className:"board"})))}}]),a}(n.Component),k=a(11),w=a.n(k),C=a(14),S=a(12),I=(a(70),a(13)),y=(a(71),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).store=function(e){console.log(e),localStorage.setItem("Pcover",e.Pcover),localStorage.setItem("Pname",e.Pname),localStorage.setItem("PID",e.PID),localStorage.setItem("tag",e.tag)},n.state={},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props.places.map((function(t){return s.a.createElement(g.b,{to:"/platform/"+t.Pname,onClick:function(){return e.store(t)}},s.a.createElement("div",{className:"list"},s.a.createElement(I.a,{left:!0},s.a.createElement(I.a,{object:!0,src:t.Pcover,alt:t.Pname}),s.a.createElement("div",{className:"platFormName"},t.Pname))))}));return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement(I.a,null,t)))}}]),a}(s.a.Component)),N=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).filter=function(e){var t="https://juice-quiz.herokuapp.com/api/Platform/".concat(e);h.a.get(t).then((function(e){return e.data})).then((function(e){console.log(e),n.setState({places:e}),n.state.renderList=Object(S.a)(n.state.places),console.log(n.state.renderList.length),n.setState({places:n.state.renderList})}))},n.state={searchContent:"",places:"",renderList:[{}]},n.process(),n}return Object(c.a)(a,[{key:"handleChangeSearch",value:function(e){this.setState({searchContent:e.target.value})}},{key:"process",value:function(){var e=Object(C.a)(w.a.mark((function e(){var t=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://juice-quiz.herokuapp.com/api/Platform",e.next=3,h.a.get("https://juice-quiz.herokuapp.com/api/Platform").then((function(e){return e.data})).then((function(e){console.log(e),t.setState({places:e}),t.state.renderList=Object(S.a)(t.state.places),console.log(t.state.renderList.length),t.setState({places:t.state.renderList})}));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(C.a)(w.a.mark((function e(){var t,a=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return alert(this.state.searchContent),t="https://juice-quiz.herokuapp.com/api/platform/".concat(this.state.searchContent),e.next=4,h.a.get(t).then((function(e){return e.data})).then((function(e){a.setState({places:e},(function(){console.log(a.state.places)})),a.setState({renderList:a.state.places})}));case 4:e.sent;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"menu"},s.a.createElement("div",{className:"tagFilter"},s.a.createElement("button",{onClick:function(){return e.process()},type:"button",className:"tag"}," General"),s.a.createElement("button",{onClick:function(){return e.filter("Music")},type:"button",className:"tag"},"Music"),s.a.createElement("button",{onClick:function(){return e.filter("Sport")},type:"button",className:"tag"},"Sport"),s.a.createElement("button",{onClick:function(){return e.filter("Programming")},type:"button",className:"tag"}," Programing"),s.a.createElement("button",{onClick:function(){return e.filter("Science")},type:"button",className:"tag"},"Science"),s.a.createElement("button",{onClick:function(){return e.filter("Food")},type:"button",className:"tag"},"Food"),s.a.createElement("button",{onClick:function(){return e.filter("Movie")},type:"button",className:"tag"},"Movie"),s.a.createElement("button",{onClick:function(){return e.filter("Life")},type:"button",className:"tag"},"Life")),s.a.createElement("div",{className:"search"},s.a.createElement("input",{className:"searchContent",required:!0,onChange:this.handleChangeSearch.bind(this)}),s.a.createElement("button",{className:"searchButton",onClick:function(){return e.search()}},"Search ")),s.a.createElement("div",{className:"item"},s.a.createElement(y,{places:this.state.renderList}))))}}]),a}(n.Component),q=(a(74),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).unsubscribe=function(e){var t="https://juice-quiz.herokuapp.com/api/platform/delSub/".concat(e);h.a.delete(t,{data:{UID:localStorage.getItem("UID")}}).then((function(e){console.log(e)})),n.get()},n.state={trigger:!1,UID:localStorage.getItem("UID"),place:"",renderList:[]},n.get(),n}return Object(c.a)(a,[{key:"get",value:function(){var e=Object(C.a)(w.a.mark((function e(){var t,a=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._isMounted=!0,t="https://juice-quiz.herokuapp.com/api/user/subscribed/".concat(this.state.UID),e.next=4,h.a.get(t).then((function(e){return e.data})).then((function(e){a._isMounted&&(a.setState({places:e},(function(){console.log(a.state.places)})),a.setState({renderList:a.state.places}))}));case 4:e.sent;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.renderList.map((function(t){return s.a.createElement("div",{className:"list"},s.a.createElement("div",{class:"box"},s.a.createElement("div",{class:"box-bg"},s.a.createElement("img",{src:t.Pcover})),s.a.createElement("div",{class:"box-text"},s.a.createElement("h4",null,t.Pname),s.a.createElement("button",{className:"boxbtn",onClick:function(){return e.unsubscribe(t.PID)}}," unsubscribed"))),s.a.createElement("div",{className:"reputation"},"reputation: ",t.Rpoint,"/1000",s.a.createElement("progress",{className:"repoBar",max:"1000",value:t.Rpoint}," 10% ")))}));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"board-show"},s.a.createElement("div",{className:"boardTitle-show"},"subscribed platform"),t))}}]),a}(n.Component)),O=(a(75),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e))._isMounted=!1,n.componentDidMount=function(){n.get(),n.get_ranklist(),n.setState({rander:!0}),n.is_sub(),n.is_coowner(),n.is_owner(),n.get_replimit()},n.store=function(e){localStorage.setItem("QID",e.QID)},n.state={subscribed:!1,co_owner:!1,owner:!1,authority:!1,logged:localStorage.getItem("Logged"),places:"",renderList:[{}],hotac:!0,rateac:!0,Pname:localStorage.getItem("Pname"),Pcover:localStorage.getItem("Pcover"),PID:localStorage.getItem("PID"),rander:!1,searchContent:"",rankList:[{}],rank:"",replimit:0,Urep:0},n}return Object(c.a)(a,[{key:"sortByHot",value:function(){var e=this.state.places;this.state.hotac?(e.sort((function(e,t){return-e.hot+t.hot})),this.setState({hotac:!1})):(e.sort((function(e,t){return e.hot-t.hot})),this.setState({hotac:!0})),this.setState({rateac:!0}),console.log(e),this.setState({renderList:e})}},{key:"sortByRate",value:function(){var e=this.state.places;this.state.rateac?(e.sort((function(e,t){return-e.ave_rate+t.ave_rate})),this.setState({rateac:!1})):(e.sort((function(e,t){return e.ave_rate-t.ave_rate})),this.setState({rateac:!0})),this.setState({hotac:!0}),console.log(e),this.setState({renderList:e})}},{key:"subscribe",value:function(){var e=this;h.a.post("https://juice-quiz.herokuapp.com/api/platform/dosubscribe",{PID:this.state.PID,UID:localStorage.getItem("UID")}).then((function(t){console.log(t),e.setState({subscribed:!0})})),this.inital_reputation()}},{key:"unsubscribe",value:function(){this.state.owner?alert("You can't unsubscribe your own platform!"):this.state.co_owner?(console.log("co"),this.op_unsub(),this.op_uncoown()):this.op_unsub()}},{key:"op_unsub",value:function(){var e="https://juice-quiz.herokuapp.com/api/platform/delSub/".concat(this.state.PID);h.a.delete(e,{data:{UID:localStorage.getItem("UID")}}).then((function(e){console.log(e)})),this.setState({subscribed:!1})}},{key:"op_uncoown",value:function(){var e="https://juice-quiz.herokuapp.com/api/platform/delCoown/".concat(this.state.PID);h.a.delete(e,{data:{UID:localStorage.getItem("UID")}}).then((function(e){console.log(e)})),this.setState({co_owner:!1})}},{key:"inital_reputation",value:function(){var e=this;h.a.post("https://juice-quiz.herokuapp.com/api/platform/initalR",{PID:this.state.PID,UID:localStorage.getItem("UID")}).then((function(t){console.log(t),e.setState({subscribed:!0})}))}},{key:"do_apply",value:function(){var e=this;h.a.post("https://juice-quiz.herokuapp.com/api/platform/doapply",{PID:this.state.PID,UID:localStorage.getItem("UID")}).then((function(t){console.log(t),e.setState({co_owner:!0})}))}},{key:"apply",value:function(){this.state.subscribed?(this.get_Urep(),this.state.Urep<this.state.replimit?alert("You didn't reach the co-owner requirment"):this.do_apply()):alert("You need to subscribe the platform first!")}},{key:"get_replimit",value:function(){var e=this,t="https://juice-quiz.herokuapp.com/api/platform/".concat(this.state.PID,"/replimit");h.a.get(t).then((function(e){return e.data})).then((function(t){e.setState({replimit:t[0].replimit}),console.log(e.state.replimit)}))}},{key:"get_Urep",value:function(){var e=this,t="https://juice-quiz.herokuapp.com/api/platform/userRep/".concat(localStorage.getItem("UID"));h.a.get(t,{params:{PID:this.state.PID}}).then((function(e){return e.data})).then((function(t){e.setState({Urep:t[0].Rpoint})}))}},{key:"get",value:function(){var e=Object(C.a)(w.a.mark((function e(){var t,a=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._isMounted=!0,t="https://juice-quiz.herokuapp.com/api/platform/quizlist/".concat(this.state.PID),e.next=4,h.a.get(t).then((function(e){return e.data})).then((function(e){a._isMounted&&(a.setState({places:e},(function(){console.log(a.state.places)})),a.setState({renderList:a.state.places}))}));case 4:e.sent;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"get_ranklist",value:function(){var e=Object(C.a)(w.a.mark((function e(){var t,a=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://juice-quiz.herokuapp.com/api/platform/ranklist/".concat(this.state.PID),e.next=3,h.a.get(t).then((function(e){return e.data})).then((function(e){a._isMounted&&(console.log(e),a.setState({rank:e},(function(){console.log(a.state.rank)})),a.setState({rankList:a.state.rank}))}));case 3:e.sent;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"is_sub",value:function(){var e=this;h.a.post("https://juice-quiz.herokuapp.com/api/platform/subscribe",{PID:this.state.PID,UID:localStorage.getItem("UID")}).then((function(t){console.log(t.data),e.setState({subscribed:t.data.subscribe})}))}},{key:"is_coowner",value:function(){var e=this;console.log("start");h.a.post("https://juice-quiz.herokuapp.com/api/platform/coowner",{PID:this.state.PID,UID:localStorage.getItem("UID")}).then((function(t){console.log(t.data),e.setState({co_owner:t.data.coowner})}))}},{key:"is_owner",value:function(){var e=this;console.log("start");h.a.post("https://juice-quiz.herokuapp.com/api/platform/owner",{PID:this.state.PID,UID:localStorage.getItem("UID")}).then((function(t){console.log(t.data),e.setState({owner:t.data.owner})}))}},{key:"handleChangeSearch",value:function(e){this.setState({searchContent:e.target.value})}},{key:"search",value:function(){var e=Object(C.a)(w.a.mark((function e(){var t,a=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==this.state.searchContent){e.next=4;break}this.get(),e.next=8;break;case 4:return t="https://juice-quiz.herokuapp.com/api/quiz/".concat(this.state.searchContent),e.next=7,h.a.get(t,{params:{PID:this.state.PID}}).then((function(e){return e.data})).then((function(e){console.log(e),a.setState({places:e},(function(){console.log(a.state.places)})),a.setState({renderList:a.state.places})}));case 7:e.sent;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"newQuiz",value:function(){alert("!")}},{key:"render",value:function(){var e=this,t=this.state.rankList.map((function(e){return s.a.createElement("div",{className:"rankList"},s.a.createElement("div",null,s.a.createElement("img",{src:"../"+e.pic,className:"rankIcon"}),s.a.createElement("h4",{class:"rankName"},e.Uname),s.a.createElement("h4",{class:"rankRepo"},"reputation:",e.Rpoint),s.a.createElement("div",{class:"reputationValue"})))}));return console.log(this.state.subscribed),s.a.createElement("div",null,s.a.createElement("div",{className:"rankBoard"},s.a.createElement("div",{className:"rankBoardTitle"}," reputation rank  "),s.a.createElement("div",null,t)),s.a.createElement("div",{className:"header"}),s.a.createElement("div",{className:"search"},s.a.createElement("input",{className:"searchContent",required:!0,onChange:this.handleChangeSearch.bind(this)}),s.a.createElement("button",{className:"searchButton",onClick:function(){return e.search()}},"Search ")),s.a.createElement("div",{className:"platFormButton"},s.a.createElement("img",{src:"../"+this.state.Pcover,className:"icon"}),s.a.createElement("h",{className:"platFormName"},this.state.Pname),!this.state.subscribed&&s.a.createElement("button",{className:"platformaccount",onClick:function(){return e.subscribe()}},"subscribe")||s.a.createElement("button",{className:"platformaccount",onClick:function(){return e.unsubscribe()}},"subscribed \u221a"),!this.state.co_owner&&s.a.createElement("button",{className:"platformaccount",onClick:function(){return e.apply()}},"Apply to be co-owner")||s.a.createElement("button",{className:"platformaccount"},"Co-Owner"),this.state.co_owner&&s.a.createElement(g.b,{className:"newQuizLink",to:"/quizInit"},s.a.createElement("span",null,"Release New Quiz"))),s.a.createElement("div",{className:"sort"},s.a.createElement("button",{className:"sortButton",onClick:function(){return e.sortByRate()}},"\u2b50 Rate "),s.a.createElement("button",{className:"sortButton",onClick:function(){return e.sortByHot()}},"\ud83d\udd25 Hot ")),s.a.createElement("div",{className:"platFormlist"},s.a.createElement("div",null,this.state.rander&&this.state.renderList.map((function(t){return s.a.createElement("div",{className:"item"},s.a.createElement("div",{className:"title"},s.a.createElement(g.b,{to:"/platform/"+e.state.PID+"/answer/"+t.QID,onClick:function(){return e.store(t)}}," ",t.Qname," "),s.a.createElement("div",{className:"rate"},"\u2b50: ",t.ave_rate," \ud83d\udd25\uff1a",t.hot)),s.a.createElement("div",{className:"content"},s.a.createElement("div",{className:"discription"},t.description),s.a.createElement(I.a,{object:!0,src:"../"+t.pic,alt:t.Releaser,className:"userIcon"})))})))))}}]),a}(n.Component)),x=(a(76),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e="https://juice-quiz.herokuapp.com/api/answer/".concat(n.state.QID);console.log("Component did mount"),h.a.get(e).then((function(e){return e.data})).then((function(e){console.log(e),n.setState({data:e},(function(){console.log(n.state.data)})),n.processData()}))},n.processData=function(){console.log(n.state.data);var e=n.state.data;n.setState({queslength:e.length/4});var t=4*n.state.currentQuestion;console.log(t),console.log(n.state.queslength),console.log("processing"),n.setState({quesText:e[t].Qtext}),console.log(n.state.quesText);var a={text:e[t].Optionx,correctness:e[t].correctness},s={text:e[t+1].Optionx,correctness:e[t+1].correctness},i={text:e[t+2].Optionx,correctness:e[t+2].correctness},r={text:e[t+3].Optionx,correctness:e[t+3].correctness};n.setState({opt1:a}),n.setState({opt2:s}),n.setState({opt3:i}),n.setState({opt4:r}),n.setState({answerOptions:[a,s,i,r]}),console.log(n.state.answerOptions)},n.handleNextQuestion=function(e){var t=n.state.currentQuestion;console.log("handler");var a=!1;1===e.correctness&&(a=!0);var s=n.state.currentScore,i=n.state.queslength,r=t+1;console.log("nextQuestion"),console.log("questlen"),n.setState({currentQuestion:r},(function(){r<i?a&&(s+=1,n.setState({currentScore:s}),n.processData()):(a&&(s+=1,n.setState({currentScore:s})),n.setState({showScore:!0}))})),n.state.currentQuestion==n.state.queslength-1&&(n.handleRate(),console.log("ss"))},n.handleRate=function(){},n.addRep=function(){var e="https://juice-quiz.herokuapp.com/api/answer/updateRep/".concat(n.state.QID);h.a.put(e,{PID:n.state.PID,UID:localStorage.getItem("UID")}).then((function(e){console.log(e)}))},n.state={data:"",currentQuestion:0,showScore:!1,currentScore:0,ques:[],queslength:0,quesText:"",opt1:"",opt2:"",opt3:"",opt4:"",answerOptions:[],QID:localStorage.getItem("QID"),is_Mount:!1},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"answering"},this.state.showScore?s.a.createElement("div",null,s.a.createElement("div",{className:"score-section"},"Finished"),s.a.createElement(g.b,{to:"/quizRate",onClick:function(){return e.addRep()}},"Submit")):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"question-section"},s.a.createElement("div",{className:"question-count"},s.a.createElement("span",null,"Question ",this.state.currentQuestion+1," "),"/",this.state.queslength),s.a.createElement("div",{className:"question-text"},this.state.quesText)),s.a.createElement("div",{className:"answer-section"},this.state.answerOptions.map((function(t){return s.a.createElement("button",{classname:"answering_Btn",onClick:function(){return e.handleNextQuestion(t)}},t.text)})))))}}]),a}(n.Component)),D=a(5),j=(a(77),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).store=function(e){console.log("clicked"),localStorage.setItem("EditPID",e.PID)},n.state={trigger:!1,place:"",renderList:[],UID:localStorage.getItem("UID")},n.get(),n}return Object(c.a)(a,[{key:"get",value:function(){var e=Object(C.a)(w.a.mark((function e(){var t,a=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._isMounted=!0,t="https://juice-quiz.herokuapp.com/api/user/owned/".concat(this.state.UID),e.next=4,h.a.get(t).then((function(e){return e.data})).then((function(e){a._isMounted&&(a.setState({places:e},(function(){console.log(a.state.places)})),a.setState({renderList:a.state.places}))}));case 4:e.sent;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.renderList.map((function(t){return s.a.createElement("div",{className:"list"},s.a.createElement("div",{class:"box"},s.a.createElement("div",{class:"box-bg"},s.a.createElement("img",{src:"./demo-image.jpg"})),s.a.createElement("div",{class:"box-text"},s.a.createElement("h4",null,t.Pname),s.a.createElement(g.b,{to:"/platformEdit/"+t.Pname,onClick:function(){return e.store(t)}},s.a.createElement("button",{className:"boxbtn-manage"}," manage")))))}));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"board-mangage"},s.a.createElement("div",{className:"boardTitle-mangage"},"Platform Management"),t))}}]),a}(n.Component)),Q=(a(78),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={trigger:!1,name:"",tag:"",namechange:!1,tagchange:!1,oneOnwer:!1,requireReputation:0,repchange:!1,EPID:localStorage.getItem("EditPID"),success:!1},n}return Object(c.a)(a,[{key:"handleChangeName",value:function(e){this.setState({name:e.target.value}),this.setState({namechange:!0})}},{key:"handleChangeTag",value:function(e){this.setState({tag:e.target.value}),this.setState({tagchange:!0})}},{key:"handleChangeOnwer",value:function(e){this.setState({oneOnwer:e.target.value}),e.target.value&&(this.setState({replimit:99999}),this.setState({repchange:!0}))}},{key:"handleReputation",value:function(e){this.setState({requireReputation:e.target.value}),console.log(this.state.requireReputation),this.setState({repchange:!0})}},{key:"updateName",value:function(){var e="https://juice-quiz.herokuapp.com/api/EditPlatform/name/".concat(this.state.name);h.a.put(e,{PID:this.state.EPID}).then((function(e){console.log(e)}))}},{key:"updateTag",value:function(){var e="https://juice-quiz.herokuapp.com/api/EditPlatform/tag/".concat(this.state.tag);h.a.put(e,{PID:this.state.EPID}).then((function(e){console.log(e)}))}},{key:"updateRep",value:function(){var e="https://juice-quiz.herokuapp.com/api/EditPlatform/replimit/".concat(this.state.replimit);h.a.put(e,{PID:this.state.EPID}).then((function(e){console.log(e)}))}},{key:"submit",value:function(){this.state.namechange&&this.updateName(),this.state.tagchange&&this.updateTag(),this.state.repchange&&this.updateRep(),alert("Change updated!")}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"editBoard"},s.a.createElement("div",{className:"boardTitle"},"Platform Management"),s.a.createElement("form",{onSubmit:this.handleSubmit,className:"editForm"},s.a.createElement("li",null,s.a.createElement("label",{className:"editInput"},"   Platform Name",s.a.createElement("input",{required:!0,onChange:this.handleChangeName.bind(this)}))),s.a.createElement("li",null,s.a.createElement("label",{className:"editInput"},"  Select tag:",s.a.createElement("select",{value:this.state.value,onChange:this.handleChangeTag.bind(this)},s.a.createElement("option",{value:"music"},"music"),s.a.createElement("option",{value:"sport"},"sport"),s.a.createElement("option",{value:"programing"},"programing"),s.a.createElement("option",{value:"science"},"science"),s.a.createElement("option",{value:"food"},"food"),s.a.createElement("option",{value:"movie"},"movie"),s.a.createElement("option",{value:"life"},"life")))),s.a.createElement("li",null,s.a.createElement("label",null," Allow co-owenr application",s.a.createElement("select",{value:this.state.value,onChange:this.handleChangeOnwer.bind(this)},s.a.createElement("option",{value:"true"},"Yes"),s.a.createElement("option",{value:"false"},"no")))),!this.state.oneOnwer&&s.a.createElement("li",null,s.a.createElement("label",null,"  reputation need",s.a.createElement("input",{className:"repNeed",onChange:this.handleReputation.bind(this)})))),s.a.createElement("button",{className:"submit",onClick:function(){return e.submit()}},"Submit")))}}]),a}(n.Component)),P=(a(79),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={trigger:!1,name:"",tag:"",oneOnwer:!1,requireReputation:0,PID:0,success:!1},n}return Object(c.a)(a,[{key:"handleChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"handleChangeTag",value:function(e){this.setState({tag:e.target.value})}},{key:"handleChangeOnwer",value:function(e){this.setState({oneOnwer:e.target.value}),e.target.value&&this.setState({replimit:99999})}},{key:"handleReputation",value:function(e){this.setState({requireReputation:e.target.value})}},{key:"uploadIcon",value:function(){}},{key:"submit",value:function(){var e=this;h.a.post("https://juice-quiz.herokuapp.com/api/createplatform",{Pname:this.state.name,tag:this.state.tag,replimit:this.state.requireReputation}).then((function(e){return e.data})).then((function(t){e.setState({PID:t.PID}),e.setState({success:t.success})})),this.state.success&&(this.own(),this.inital_reputation(),alert("Platform Created!"))}},{key:"own",value:function(){h.a.post("https://juice-quiz.herokuapp.com/api/CreatePlatform/doown",{PID:this.state.PID,UID:localStorage.getItem("UID")}).then((function(e){console.log(e)}))}},{key:"inital_reputation",value:function(){h.a.post("https://juice-quiz.herokuapp.com/api/CreatePlatform/initalR",{PID:this.state.PID,UID:localStorage.getItem("UID")}).then((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"editBoard"},s.a.createElement("div",{className:"boardTitle"},"Platform Management"),s.a.createElement("form",{onSubmit:this.handleSubmit,className:"editForm"},s.a.createElement("li",null,s.a.createElement("label",{className:"editInput"},"   Platform Name",s.a.createElement("input",{required:!0,onChange:this.handleChangeName.bind(this)}))),s.a.createElement("li",null,s.a.createElement("label",{className:"editInput"},"  Select tag:",s.a.createElement("select",{value:this.state.value,onChange:this.handleChangeTag.bind(this)},s.a.createElement("option",{value:"music"},"music"),s.a.createElement("option",{value:"sport"},"sport"),s.a.createElement("option",{value:"programing"},"programing"),s.a.createElement("option",{value:"science"},"science"),s.a.createElement("option",{value:"food"},"food"),s.a.createElement("option",{value:"movie"},"movie"),s.a.createElement("option",{value:"life"},"life")))),s.a.createElement("li",null,s.a.createElement("label",null," Allow co-owenr application",s.a.createElement("select",{value:this.state.value,onChange:this.handleChangeOnwer.bind(this)},s.a.createElement("option",{value:"true"},"Yes"),s.a.createElement("option",{value:"false"},"no")))),!this.state.oneOnwer&&s.a.createElement("li",null,s.a.createElement("label",null,"  reputation need",s.a.createElement("input",{className:"repNeed",onChange:this.handleReputation.bind(this)})))),s.a.createElement("button",{className:"submit",onClick:function(){return e.submit()}},"Submit")))}}]),a}(n.Component)),T=(a(33),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={trigger:!1,name:"",description:"",timeLimited:!0,limitedHour:0,limitedMin:0,PID:localStorage.getItem("PID"),UID:localStorage.getItem("UID"),success:!1,Repoint:0,QID:0},n}return Object(c.a)(a,[{key:"handleChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"handleChangeRep",value:function(e){this.setState({Repoint:e.target.value})}},{key:"handleChangeDiscription",value:function(e){this.setState({description:e.target.value})}},{key:"handleTimeLimited",value:function(e){this.setState({timeLimited:e.target.value}),this.render()}},{key:"handleTimeHour",value:function(e){this.setState({limitedHour:e.target.value})}},{key:"handleTimeMin",value:function(e){this.setState({limitedMin:e.target.value})}},{key:"submit",value:function(){var e=this;h.a.post("https://juice-quiz.herokuapp.com/api/initQuiz",{title:this.state.name,description:this.state.description,timelimit:3600*this.state.limitedHour+60*this.state.limitedMin,Repoint:this.state.Repoint,PID:this.state.PID,UID:this.state.UID}).then((function(e){return e.data})).then((function(t){console.log(t),e.setState({QID:t.QID}),localStorage.setItem("QID",t.QID),e.setState({success:t.success})})),this.state.success&&alert("Quiz Created! Please start to edit quiz!")}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"initQuizeditBoard"},s.a.createElement("img",{src:"./logo.jpg",className:"quizInitIcon"}),s.a.createElement("form",{onSubmit:this.handleSubmit,className:"editForm"},s.a.createElement("li",null,s.a.createElement("label",{className:"editInput"},"  Title")),s.a.createElement("li",null,s.a.createElement("input",{className:"initQuizTitle",required:!0,onChange:this.handleChangeName.bind(this)})),s.a.createElement("li",null,s.a.createElement("label",{className:"editInput"},"  Discription")),s.a.createElement("li",null,s.a.createElement("textarea",{className:"quizDiscription",rows:"5",cols:"50",required:!0,onChange:this.handleChangeDiscription.bind(this)})),s.a.createElement("li",null,s.a.createElement("label",null," Limited Time",s.a.createElement("select",{value:this.state.value,onChange:this.handleTimeLimited.bind(this),className:"LimitedTime"},s.a.createElement("option",{value:"true"},"On"),s.a.createElement("option",{value:"false"},"Off")))),this.state.timeLimited&&s.a.createElement("li",null,s.a.createElement("label",null," Hour",s.a.createElement("input",{className:"timeQuizInit",required:!0,onChange:this.handleTimeHour.bind(this)})),s.a.createElement("label",null," Min",s.a.createElement("input",{className:"timeQuizInit",required:!0,onChange:this.handleTimeMin.bind(this)}))),s.a.createElement("li",null,s.a.createElement("label",{className:"editInput"},"  Reputation Point")),s.a.createElement("li",null,s.a.createElement("input",{className:"initQuizTitle",required:!0,onChange:this.handleChangeRep.bind(this)})),s.a.createElement(g.b,{to:"/quizEdit/"+this.state.QID},s.a.createElement("button",{className:"submit",onClick:function(){return e.submit()}},"Create")))))}}]),a}(n.Component)),z=(a(34),[{questionText:"",answerOptions:[{answerText:"",isCorrect:!1},{answerText:"",isCorrect:!0},{answerText:"",isCorrect:!1},{answerText:"",isCorrect:!1}],key:0}]),U=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e="https://juice-quiz.herokuapp.com/api/answer/".concat(n.state.QID);h.a.get(e).then((function(e){return e.data})).then((function(e){console.log(e),n.setState({data:e},(function(){console.log(n.state.data)})),n.processData()}))},n.processData=function(){n._isMounted=!0,console.log(n.state.data);var e=n.state.data;n.setState({queslength:e.length/4});var t=4*n.state.currentQuestion;console.log(t),console.log(n.state.queslength),console.log("processing");for(var a=0;a<e.length/4;a++){n.setState({quesText:e[t].Qtext}),console.log(n.state.quesText);var s={answerText:e[t].Optionx,isCorrect:1==e[t].correctness},i={answerText:e[t+1].Optionx,isCorrect:1==e[t+1].correctness},r={answerText:e[t+2].Optionx,isCorrect:1==e[t+2].correctness},o={answerText:e[t+3].Optionx,isCorrect:1==e[t+3].correctness};n.setState({opt1:s}),n.setState({opt2:i}),n.setState({opt3:r}),n.setState({opt4:o}),n.setState({answerOptions:[s,i,r,o]});var c={questionText:n.state.quesText,answerOptions:n.state.answerOptions,key:a};n.setState({questions:[].concat(Object(S.a)(n.state.questions),[c])})}console.log(n.state.questions)},n.state={trigger:!1,name:"Description",description:"",timeLimited:!0,limitedHour:0,limitedMin:0,PID:0,QID:localStorage.getItem("QID"),success:!0,currentQuestion:0,questions:z,option1:"",option2:"",option3:"",option4:""},n}return Object(c.a)(a,[{key:"handleChangeAnswerText1",value:function(e){var t=Object(S.a)(this.state.questions);t[this.state.currentQuestion].answerOptions[0].answerText=e.target.value,this.setState({tmp:t})}},{key:"handleChangeAnswerText2",value:function(e){var t=Object(S.a)(this.state.questions);t[this.state.currentQuestion].answerOptions[1].answerText=e.target.value,this.setState({tmp:t})}},{key:"handleChangeAnswerText3",value:function(e){var t=Object(S.a)(this.state.questions);t[this.state.currentQuestion].answerOptions[2].answerText=e.target.value,this.setState({tmp:t})}},{key:"handleChangeAnswerText4",value:function(e){var t=Object(S.a)(this.state.questions);t[this.state.currentQuestion].answerOptions[3].answerText=e.target.value,this.setState({tmp:t})}},{key:"handleChangeDiscription",value:function(e){var t=Object(S.a)(this.state.questions);t[this.state.currentQuestion].questionText=e.target.value,this.setState({tmp:t})}},{key:"setAsAnswer",value:function(e){var t=Object(S.a)(this.state.questions);t[this.state.currentQuestion].answerOptions.forEach((function(e){e.isCorrect=!1})),t[this.state.currentQuestion].answerOptions[e].isCorrect=!0,this.setState({tmp:t}),console.log(t[this.state.currentQuestion].answerOptions[e].isCorrect)}},{key:"submit",value:function(){h.a.post("https://juice-quiz.herokuapp.com/api/quizsetCreate",{QID:localStorage.getItem("QID"),questions:this.state.questions}).then((function(e){console.log(e),alert("create success")}))}},{key:"switchQuestion",value:function(e){this.setState({currentQuestion:e}),console.log(this.state.questions[this.state.currentQuestion].key)}},{key:"discriptionContent",value:function(){console.log(this.state.questions);var e=this.state.questions[this.state.currentQuestion].questionText;return s.a.createElement("textarea",{value:e,className:"questionDiscription",rows:"5",cols:"50",required:!0,onChange:this.handleChangeDiscription.bind(this)})}},{key:"addNewQuestion",value:function(){this.setState({questions:[].concat(Object(S.a)(this.state.questions),[{questionText:" ",answerOptions:[{answerText:" ",isCorrect:!0},{answerText:" ",isCorrect:!1},{answerText:" ",isCorrect:!1},{answerText:" ",isCorrect:!1}],key:this.state.questions.length}])})}},{key:"deleteCurrentQuestion",value:function(){for(var e=[],t=0;t<this.state.questions.length;t++)this.state.questions[t].key!=this.state.currentQuestion&&(e=[].concat(Object(S.a)(e),[this.state.questions[t]]));for(var a=0;a<e.length;a++)e[a].key=a,console.log(e[a].key);this.setState({questions:e}),this.setState({currentQuestion:0})}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",null,s.a.createElement("div",{className:"editQuizeditBoard"},s.a.createElement("img",{src:"/logo.jpg",className:"quizInitIcon"}),s.a.createElement("div",{className:"editQuestionList"},this.state.questions.map((function(t,a){return s.a.createElement("button",{type:"button",onClick:function(){return e.switchQuestion(t.key)}},t.key+1)}))),s.a.createElement("div",{className:"editContent"},s.a.createElement("form",{onSubmit:this.handleSubmit,className:"editForm"},s.a.createElement("li",null,s.a.createElement("label",{className:"editInput"}," ",this.state.name)),s.a.createElement("li",null,this.discriptionContent()),s.a.createElement("li",null,s.a.createElement("input",{value:this.state.questions[this.state.currentQuestion].answerOptions[0].answerText,type:"text",className:"editQuizOption",required:!0,onChange:this.handleChangeAnswerText1.bind(this)}),!this.state.questions[this.state.currentQuestion].answerOptions[0].isCorrect&&s.a.createElement("button",{type:"button",className:"editButton",onClick:function(){return e.setAsAnswer(0)}},"set as answer")),s.a.createElement("li",null,s.a.createElement("input",{value:this.state.questions[this.state.currentQuestion].answerOptions[1].answerText,type:"text",className:"editQuizOption",required:!0,onChange:this.handleChangeAnswerText2.bind(this)}),!this.state.questions[this.state.currentQuestion].answerOptions[1].isCorrect&&s.a.createElement("button",{type:"button",className:"editButton",onClick:function(){return e.setAsAnswer(1)}},"set as answer")),s.a.createElement("li",null,s.a.createElement("input",{value:this.state.questions[this.state.currentQuestion].answerOptions[2].answerText,type:"text",className:"editQuizOption",required:!0,onChange:this.handleChangeAnswerText3.bind(this)}),!this.state.questions[this.state.currentQuestion].answerOptions[2].isCorrect&&s.a.createElement("button",{type:"button",className:"editButton",onClick:function(){return e.setAsAnswer(2)}},"set as answer")),s.a.createElement("li",null,s.a.createElement("input",{value:this.state.questions[this.state.currentQuestion].answerOptions[3].answerText,type:"text",className:"editQuizOption",required:!0,onChange:this.handleChangeAnswerText4.bind(this)}),!this.state.questions[this.state.currentQuestion].answerOptions[3].isCorrect&&s.a.createElement("button",{type:"button",className:"editButton",onClick:function(){return e.setAsAnswer(3)}},"set as answer")),s.a.createElement("div",{className:"editListButton"},s.a.createElement("button",{type:"button",onClick:function(){return e.addNewQuestion()}},"new"),s.a.createElement("button",{type:"button",onClick:function(){return e.deleteCurrentQuestion()}},"delete")),s.a.createElement("button",{type:"button",className:"submit",onClick:function(){return e.submit()}},"Create"))))))}}]),a}(n.Component),L=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e))._isMounted=!1,n.componentDidMount=function(){n.getnumber(),n.setState({rander:!0})},n.store=function(e){localStorage.setItem("QID",e.QID)},n.state={logged:localStorage.getItem("Logged"),places:[],renderList:[{}],hotac:!0,rateac:!0,UID:localStorage.getItem("UID"),PID:localStorage.getItem("PID"),rander:!1,searchContent:"",rankList:[{}],rank:"",quiznum:0},n}return Object(c.a)(a,[{key:"sortByHot",value:function(){var e=this.state.places;this.state.hotac?(e.sort((function(e,t){return-e.hot+t.hot})),this.setState({hotac:!1})):(e.sort((function(e,t){return e.hot-t.hot})),this.setState({hotac:!0})),this.setState({rateac:!0}),console.log(e),this.setState({renderList:e})}},{key:"sortByRate",value:function(){var e=this.state.places;this.state.rateac?(e.sort((function(e,t){return-e.ave_rate+t.ave_rate})),this.setState({rateac:!1})):(e.sort((function(e,t){return e.ave_rate-t.ave_rate})),this.setState({rateac:!0})),this.setState({hotac:!0}),console.log(e),this.setState({renderList:e})}},{key:"getnumber",value:function(){var e=Object(C.a)(w.a.mark((function e(){var t,a=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._isMounted=!0,t="https://juice-quiz.herokuapp.com/api/manageQuiz/quizlist_total/".concat(this.state.UID),e.next=4,h.a.get(t).then((function(e){return e.data})).then((function(e){a.setState({quiznum:e},(function(){console.log(a.state.quiznum),0!=a.state.quiznum.length&&a.get()}))}));case 4:e.sent;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=Object(C.a)(w.a.mark((function e(){var t,a,n=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._isMounted=!0,t=0;case 2:if(!(t<this.state.quiznum.length)){e.next=10;break}return a="https://juice-quiz.herokuapp.com/api/manageQuiz/quizlist/".concat(this.state.quiznum[t].QID),e.next=6,h.a.get(a).then((function(e){return e.data})).then((function(e){n._isMounted&&(e[0].QID=n.state.quiznum[t].QID,n.state.places.push(e[0]),console.log(n.state.places),n.setState({renderList:n.state.places}))}));case 6:e.sent;case 7:t++,e.next=2;break;case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleChangeSearch",value:function(e){this.setState({searchContent:e.target.value})}},{key:"search",value:function(){var e=Object(C.a)(w.a.mark((function e(){var t,a=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==this.state.searchContent){e.next=4;break}this.get(),e.next=8;break;case 4:return t="https://juice-quiz.herokuapp.com/api/quiz/".concat(this.state.searchContent),e.next=7,h.a.get(t,{params:{PID:this.state.PID}}).then((function(e){return e.data})).then((function(e){console.log(e),a.setState({places:e},(function(){console.log(a.state.places)})),a.setState({renderList:a.state.places})}));case 7:e.sent;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"newQuiz",value:function(){alert("!")}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"header"}),s.a.createElement("div",{className:"search"},s.a.createElement("input",{className:"searchContent",required:!0,onChange:this.handleChangeSearch.bind(this)}),s.a.createElement("button",{className:"searchButton",onClick:function(){return e.search()}},"Search ")),s.a.createElement("div",{className:"sort"},s.a.createElement("button",{className:"sortButton",onClick:function(){return e.sortByRate()}},"\u2b50 Rate "),s.a.createElement("button",{className:"sortButton",onClick:function(){return e.sortByHot()}},"\ud83d\udd25 Hot ")),s.a.createElement("div",{className:"platFormlist"},s.a.createElement("div",null,this.state.rander&&this.state.renderList.map((function(t){return s.a.createElement("div",{className:"item"},s.a.createElement("div",{className:"title"},s.a.createElement(g.b,{to:"/quizEditAfter/"+t.QID,onClick:function(){return e.store(t)}}," ",t.Qname),s.a.createElement("div",{className:"rate"},"\u2b50: ",t.ave_rate," \ud83d\udd25\uff1a",t.hot)),s.a.createElement("div",{className:"content"},s.a.createElement("div",{className:"discription"},t.description),s.a.createElement(I.a,{object:!0,src:"../"+t.pic,alt:t.Releaser,className:"userIcon"})))})))))}}]),a}(n.Component),_=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={trigger:!1,name:"",description:"",timeLimited:!0,limitedHour:0,limitedMin:0,QID:localStorage.getItem("QID"),UID:localStorage.getItem("UID"),success:!1,Repoint:0},n}return Object(c.a)(a,[{key:"handleChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"handleChangeRep",value:function(e){this.setState({Repoint:e.target.value})}},{key:"handleChangeDiscription",value:function(e){this.setState({description:e.target.value})}},{key:"handleTimeLimited",value:function(e){this.setState({timeLimited:e.target.value}),this.render()}},{key:"handleTimeHour",value:function(e){this.setState({limitedHour:e.target.value})}},{key:"handleTimeMin",value:function(e){this.setState({limitedMin:e.target.value})}},{key:"submit",value:function(){var e="https://juice-quiz.herokuapp.com/api/updateQuizdes/".concat(this.state.description);h.a.put(e,{QID:this.state.QID}).then((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"initQuizeditBoard"},s.a.createElement("img",{src:"./logo.jpg",className:"quizInitIcon"}),s.a.createElement("form",{onSubmit:this.handleSubmit,className:"editForm"},s.a.createElement("li",null,s.a.createElement("label",{className:"editInput"},"  Discription")),s.a.createElement("li",null,s.a.createElement("textarea",{className:"quizDiscription",rows:"5",cols:"50",required:!0,onChange:this.handleChangeDiscription.bind(this)})),s.a.createElement(g.b,{to:"/quizEdit/"+this.state.QID},s.a.createElement("button",{className:"submit",onClick:function(){return e.submit()}},"UPDATE")))))}}]),a}(n.Component),R=[{questionText:"",answerOptions:[{answerText:"",isCorrect:!1},{answerText:"",isCorrect:!0},{answerText:"",isCorrect:!1},{answerText:"",isCorrect:!1}],key:0}],B=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e="https://juice-quiz.herokuapp.com/api/answer/".concat(n.state.QID);h.a.get(e).then((function(e){return e.data})).then((function(e){console.log(e),n.setState({data:e},(function(){console.log(n.state.data)})),n.processData()}))},n.processData=function(){n._isMounted=!0,console.log(n.state.data);var e=n.state.data;n.setState({queslength:e.length/4});var t=4*n.state.currentQuestion;console.log(t),console.log(n.state.queslength),console.log("processing");for(var a=0;a<e.length/4;a++){n.setState({quesText:e[t].Qtext}),console.log(n.state.quesText);var s={answerText:e[t].Optionx,isCorrect:1==e[t].correctness},i={answerText:e[t+1].Optionx,isCorrect:1==e[t+1].correctness},r={answerText:e[t+2].Optionx,isCorrect:1==e[t+2].correctness},o={answerText:e[t+3].Optionx,isCorrect:1==e[t+3].correctness};n.setState({opt1:s}),n.setState({opt2:i}),n.setState({opt3:r}),n.setState({opt4:o}),n.setState({answerOptions:[s,i,r,o]});var c={questionText:n.state.quesText,answerOptions:n.state.answerOptions,key:a};n.setState({questions:[].concat(Object(S.a)(n.state.questions),[c])})}n.setState({questions:n.state.questions.slice(1)}),n.setState({origin:n.state.questions})},n.state={trigger:!1,name:"Description",description:"",PID:0,QID:localStorage.getItem("QID"),success:!0,currentQuestion:0,questions:R,origin:R,option1:"",option2:"",option3:"",option4:"",add:[],delete:[],modify:[]},n}return Object(c.a)(a,[{key:"handleChangeAnswerText1",value:function(e){var t=Object(S.a)(this.state.questions);t[this.state.currentQuestion].answerOptions[0].answerText=e.target.value,this.setState({tmp:t})}},{key:"handleChangeAnswerText2",value:function(e){var t=Object(S.a)(this.state.questions);t[this.state.currentQuestion].answerOptions[1].answerText=e.target.value,this.setState({tmp:t})}},{key:"handleChangeAnswerText3",value:function(e){var t=Object(S.a)(this.state.questions);t[this.state.currentQuestion].answerOptions[2].answerText=e.target.value,this.setState({tmp:t})}},{key:"handleChangeAnswerText4",value:function(e){var t=Object(S.a)(this.state.questions);t[this.state.currentQuestion].answerOptions[3].answerText=e.target.value,this.setState({tmp:t})}},{key:"handleChangeDiscription",value:function(e){var t=Object(S.a)(this.state.questions);t[this.state.currentQuestion].questionText=e.target.value,this.setState({tmp:t})}},{key:"setAsAnswer",value:function(e){var t=Object(S.a)(this.state.questions);t[this.state.currentQuestion].answerOptions.forEach((function(e){e.isCorrect=!1})),t[this.state.currentQuestion].answerOptions[e].isCorrect=!0,this.setState({tmp:t}),console.log(t[this.state.currentQuestion].answerOptions[e].isCorrect)}},{key:"submit",value:function(){this.state.origin.length<this.state.questions.length?this.insert():this.state.origin.length>this.state.questions.length&&this.delete(),this.update()}},{key:"insert",value:function(){for(var e=[],t=this.state.origin.length+1;t<=this.state.questions.length;t++)e.push({questionText:" ",answerOptions:[{answerText:" ",isCorrect:!0},{answerText:" ",isCorrect:!1},{answerText:" ",isCorrect:!1},{answerText:" ",isCorrect:!1}],key:t});console.log(e);h.a.post("https://juice-quiz.herokuapp.com/api/quizsetEdit/insert",{QID:localStorage.getItem("QID"),questions:e})}},{key:"delete",value:function(){for(var e=[],t=this.state.questions.length+1;t<=this.state.origin.length;t++)e.push(t);console.log(e);h.a.delete("https://juice-quiz.herokuapp.com/quizsetEdit/delete",{data:{QID:localStorage.getItem("QID"),del:e}})}},{key:"update",value:function(){console.log(this.state.questions),h.a.put("https://juice-quiz.herokuapp.com/api/quizsetEdit/change",{QID:localStorage.getItem("QID"),question:this.state.questions}).then((function(e){console.log(e)}))}},{key:"switchQuestion",value:function(e){this.setState({currentQuestion:e}),console.log(this.state.questions[this.state.currentQuestion].key)}},{key:"discriptionContent",value:function(){console.log(this.state.questions);var e=this.state.questions[this.state.currentQuestion].questionText;return s.a.createElement("textarea",{value:e,className:"questionDiscription",rows:"5",cols:"50",required:!0,onChange:this.handleChangeDiscription.bind(this)})}},{key:"addNewQuestion",value:function(){this.setState({questions:[].concat(Object(S.a)(this.state.questions),[{questionText:" ",answerOptions:[{answerText:" ",isCorrect:!0},{answerText:" ",isCorrect:!1},{answerText:" ",isCorrect:!1},{answerText:" ",isCorrect:!1}],key:this.state.questions.length}])})}},{key:"deleteCurrentQuestion",value:function(){for(var e=[],t=0;t<this.state.questions.length;t++)this.state.questions[t].key!=this.state.currentQuestion&&(e=[].concat(Object(S.a)(e),[this.state.questions[t]]));for(var a=0;a<e.length;a++)e[a].key=a,console.log(e[a].key);this.setState({questions:e}),this.setState({currentQuestion:0})}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",null,s.a.createElement("div",{className:"editQuizeditBoard"},s.a.createElement("img",{src:"/logo.jpg",className:"quizInitIcon"}),s.a.createElement("div",{className:"editQuestionList"},this.state.questions.map((function(t,a){return s.a.createElement("button",{type:"button",onClick:function(){return e.switchQuestion(t.key)}},t.key+1)}))),s.a.createElement("div",{className:"editContent"},s.a.createElement("form",{onSubmit:this.handleSubmit,className:"editForm"},s.a.createElement("li",null,s.a.createElement("label",{className:"editInput"}," ",this.state.name)),s.a.createElement("li",null,this.discriptionContent()),s.a.createElement("li",null,s.a.createElement("input",{value:this.state.questions[this.state.currentQuestion].answerOptions[0].answerText,type:"text",className:"editQuizOption",required:!0,onChange:this.handleChangeAnswerText1.bind(this)}),!this.state.questions[this.state.currentQuestion].answerOptions[0].isCorrect&&s.a.createElement("button",{type:"button",className:"editButton",onClick:function(){return e.setAsAnswer(0)}},"set as answer")),s.a.createElement("li",null,s.a.createElement("input",{value:this.state.questions[this.state.currentQuestion].answerOptions[1].answerText,type:"text",className:"editQuizOption",required:!0,onChange:this.handleChangeAnswerText2.bind(this)}),!this.state.questions[this.state.currentQuestion].answerOptions[1].isCorrect&&s.a.createElement("button",{type:"button",className:"editButton",onClick:function(){return e.setAsAnswer(1)}},"set as answer")),s.a.createElement("li",null,s.a.createElement("input",{value:this.state.questions[this.state.currentQuestion].answerOptions[2].answerText,type:"text",className:"editQuizOption",required:!0,onChange:this.handleChangeAnswerText3.bind(this)}),!this.state.questions[this.state.currentQuestion].answerOptions[2].isCorrect&&s.a.createElement("button",{type:"button",className:"editButton",onClick:function(){return e.setAsAnswer(2)}},"set as answer")),s.a.createElement("li",null,s.a.createElement("input",{value:this.state.questions[this.state.currentQuestion].answerOptions[3].answerText,type:"text",className:"editQuizOption",required:!0,onChange:this.handleChangeAnswerText4.bind(this)}),!this.state.questions[this.state.currentQuestion].answerOptions[3].isCorrect&&s.a.createElement("button",{type:"button",className:"editButton",onClick:function(){return e.setAsAnswer(3)}},"set as answer")),s.a.createElement("div",{className:"editListButton"},s.a.createElement("button",{type:"button",onClick:function(){return e.addNewQuestion()}},"new"),s.a.createElement("button",{type:"button",onClick:function(){return e.deleteCurrentQuestion()}},"delete")),s.a.createElement("button",{type:"button",className:"submit",onClick:function(){return e.submit()}},"Create"))))))}}]),a}(n.Component),A=(a(80),a(37)),M=[{questionText:"What is the capital of France?",answerOptions:[{answerText:"New York",isCorrect:!1},{answerText:"London",isCorrect:!0},{answerText:"Paris",isCorrect:!1},{answerText:"Dublin",isCorrect:!1}],correct:!0,key:0},{questionText:"What is the capital of ff?",answerOptions:[{answerText:"A",isCorrect:!1},{answerText:"B",isCorrect:!1},{answerText:"C",isCorrect:!0},{answerText:"D",isCorrect:!1}],correct:!1,key:1}],F=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={trigger:!1,name:"Congratulations, You got ",discription:"",timeLimited:!0,limitedHour:0,limitedMin:0,PID:0,score:90,success:!0,currentQuestion:0,questions:M,rank:80,rating:null,hover:null},n}return Object(c.a)(a,[{key:"own",value:function(){}},{key:"inital_reputation",value:function(){h.a.post("http://localhost:3001/api/CreatePlatform/initalR",{PID:this.state.PID,UID:localStorage.getItem("UID")}).then((function(e){console.log(e)}))}},{key:"discriptionContent",value:function(){var e=this.state.questions[this.state.currentQuestion].questionText;return s.a.createElement("textarea",{value:e,className:"questionDiscription",rows:"5",cols:"50",required:!0,onChange:this.handleChangeDiscription.bind(this)})}},{key:"setRate",value:function(e){console.log(e),this.setState({rating:e},(function(){h.a.put("https://juice-quiz.herokuapp.com/api/answer/rating",{QID:localStorage.getItem("QID"),rating:e}).then((function(e){console.log(e)}))}))}},{key:"starBoard",value:function(){var e=this;return s.a.createElement("div",{className:"starBoard"},Object(S.a)(Array(5)).map((function(t,a){var n=a+1;return s.a.createElement("label",null,s.a.createElement("input",{style:{display:"none"},type:"radio",name:"rating",value:n,onClick:function(){return e.setRate(n)}}),s.a.createElement(A.a,{className:"star",color:n<=(e.state.hover||e.state.rating)?"#ffc107":"e4e5e9",size:80,onMouseEnter:function(){return e.setState({hover:n})},onMouseLeave:function(){return e.setState({hover:null})}}))})))}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",null,s.a.createElement("div",{className:"editQuizeditBoard"},s.a.createElement("img",{src:"logo.jpg",className:"quizInitIcon"}),s.a.createElement("div",{className:"editQuestionList",style:{backgroundColor:"rgb(52, 63, 73)"}},this.state.questions.map((function(e,t){return e.correct&&s.a.createElement("button",{type:"button",style:{backgroundColor:"green"}},e.key+1)||s.a.createElement("button",{type:"button",style:{backgroundColor:"red"}},e.key+1)}))),s.a.createElement("div",{className:"editContent"},s.a.createElement("form",{onSubmit:this.handleSubmit,className:"editForm"},s.a.createElement("li",null,s.a.createElement("label",{className:"editInput",style:{fontSize:"50px"}}," Congratulations,",s.a.createElement("br",null)," You got ",s.a.createElement("br",null)," ",s.a.createElement("label",{style:{color:"orange",fontSize:"80px",marginLeft:"40%"}},this.state.score)," points ",s.a.createElement("br",null),s.a.createElement("label",{style:{fontSize:"30px",marginBottom:"50px"}},"in ",s.a.createElement("label",{style:{color:"orange",fontSize:"50px"}},this.state.limitedHour," ")," hour and ",s.a.createElement("label",{style:{color:"orange",fontSize:"50px"}},this.state.limitedMin," "),"  minutes"))," ",s.a.createElement("br",null),s.a.createElement("label",{className:"rank"},"You defeated ",s.a.createElement("label",{style:{color:"orange",fontSize:"48px "}},this.state.rank,"%")," users in juice quiz"))),s.a.createElement("div",{className:"rateBoard"},s.a.createElement("label",null," How you like this quiz "),this.starBoard())))))}}]),a}(n.Component),H=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(g.a,null,s.a.createElement(E,null),s.a.createElement(D.c,null,s.a.createElement(D.a,{exact:!0,path:"/",element:s.a.createElement(N,null)}),s.a.createElement(D.a,{path:"/platform/:id",element:s.a.createElement(O,null)}),s.a.createElement(D.a,{path:"/platform/:id/answer/:id",element:s.a.createElement(x,null)}),s.a.createElement(D.a,{path:"/profile",element:s.a.createElement(q,null)}),s.a.createElement(D.a,{path:"/managePlatform",element:s.a.createElement(j,null)}),s.a.createElement(D.a,{path:"/manageQuiz",element:s.a.createElement(L,null)}),s.a.createElement(D.a,{path:"/platformEdit/:id",element:s.a.createElement(Q,null)}),s.a.createElement(D.a,{path:"/platformCreate",element:s.a.createElement(P,null)}),s.a.createElement(D.a,{path:"/quizInit",element:s.a.createElement(T,null)}),s.a.createElement(D.a,{path:"/quizEdit/:id",element:s.a.createElement(U,null)}),s.a.createElement(D.a,{path:"/quizEditAfter/:id",element:s.a.createElement(B,null)}),s.a.createElement(D.a,{path:"/quizSetEdit/:id",element:s.a.createElement(_,null)}),s.a.createElement(D.a,{path:"/quizRate",element:s.a.createElement(F,null)}))))}}]),a}(n.Component);r.a.render(s.a.createElement(H,null),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.f93bca89.chunk.js.map